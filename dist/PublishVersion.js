!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PublishVersion=e():t.PublishVersion=e()}(this,(function(){return(()=>{var t={730:(t,e,s)=>{"use strict";const i=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,r=()=>{const t={enabled:!0,visible:!0,styles:{},keys:{}};"FORCE_COLOR"in process.env&&(t.enabled="0"!==process.env.FORCE_COLOR);const e=(t,e,s)=>"function"==typeof t?t(e):t.wrap(e,s),r=(s,i)=>{if(""===s||null==s)return"";if(!1===t.enabled)return s;if(!1===t.visible)return"";let r=""+s,n=r.includes("\n"),o=i.length;for(o>0&&i.includes("unstyle")&&(i=[...new Set(["unstyle",...i])].reverse());o-- >0;)r=e(t.styles[i[o]],r,n);return r},n=(e,s,i)=>{t.styles[e]=(t=>{let e=t.open=`[${t.codes[0]}m`,s=t.close=`[${t.codes[1]}m`,i=t.regex=new RegExp(`\\u001b\\[${t.codes[1]}m`,"g");return t.wrap=(t,r)=>{t.includes(s)&&(t=t.replace(i,s+e));let n=e+t+s;return r?n.replace(/\r*\n/g,`${s}$&${e}`):n},t})({name:e,codes:s}),(t.keys[i]||(t.keys[i]=[])).push(e),Reflect.defineProperty(t,e,{configurable:!0,enumerable:!0,set(s){t.alias(e,s)},get(){let s=t=>r(t,s.stack);return Reflect.setPrototypeOf(s,t),s.stack=this.stack?this.stack.concat(e):[e],s}})};return n("reset",[0,0],"modifier"),n("bold",[1,22],"modifier"),n("dim",[2,22],"modifier"),n("italic",[3,23],"modifier"),n("underline",[4,24],"modifier"),n("inverse",[7,27],"modifier"),n("hidden",[8,28],"modifier"),n("strikethrough",[9,29],"modifier"),n("black",[30,39],"color"),n("red",[31,39],"color"),n("green",[32,39],"color"),n("yellow",[33,39],"color"),n("blue",[34,39],"color"),n("magenta",[35,39],"color"),n("cyan",[36,39],"color"),n("white",[37,39],"color"),n("gray",[90,39],"color"),n("grey",[90,39],"color"),n("bgBlack",[40,49],"bg"),n("bgRed",[41,49],"bg"),n("bgGreen",[42,49],"bg"),n("bgYellow",[43,49],"bg"),n("bgBlue",[44,49],"bg"),n("bgMagenta",[45,49],"bg"),n("bgCyan",[46,49],"bg"),n("bgWhite",[47,49],"bg"),n("blackBright",[90,39],"bright"),n("redBright",[91,39],"bright"),n("greenBright",[92,39],"bright"),n("yellowBright",[93,39],"bright"),n("blueBright",[94,39],"bright"),n("magentaBright",[95,39],"bright"),n("cyanBright",[96,39],"bright"),n("whiteBright",[97,39],"bright"),n("bgBlackBright",[100,49],"bgBright"),n("bgRedBright",[101,49],"bgBright"),n("bgGreenBright",[102,49],"bgBright"),n("bgYellowBright",[103,49],"bgBright"),n("bgBlueBright",[104,49],"bgBright"),n("bgMagentaBright",[105,49],"bgBright"),n("bgCyanBright",[106,49],"bgBright"),n("bgWhiteBright",[107,49],"bgBright"),t.ansiRegex=i,t.hasColor=t.hasAnsi=e=>(t.ansiRegex.lastIndex=0,"string"==typeof e&&""!==e&&t.ansiRegex.test(e)),t.alias=(e,s)=>{let i="string"==typeof s?t[s]:s;if("function"!=typeof i)throw new TypeError("Expected alias to be the name of an existing color (string) or a function");i.stack||(Reflect.defineProperty(i,"name",{value:e}),t.styles[e]=i,i.stack=[e]),Reflect.defineProperty(t,e,{configurable:!0,enumerable:!0,set(s){t.alias(e,s)},get(){let e=t=>r(t,e.stack);return Reflect.setPrototypeOf(e,t),e.stack=this.stack?this.stack.concat(i.stack):i.stack,e}})},t.theme=e=>{if(null===(s=e)||"object"!=typeof s||Array.isArray(s))throw new TypeError("Expected theme to be an object");var s;for(let s of Object.keys(e))t.alias(s,e[s]);return t},t.alias("unstyle",(e=>"string"==typeof e&&""!==e?(t.ansiRegex.lastIndex=0,e.replace(t.ansiRegex,"")):"")),t.alias("noop",(t=>t)),t.none=t.clear=t.noop,t.stripColor=t.unstyle,t.symbols=s(7142),t.define=n,t};t.exports=r(),t.exports.create=r},7142:t=>{"use strict";const e="Hyper"===process.env.TERM_PROGRAM,s="win32"===process.platform,i="linux"===process.platform,r={ballotDisabled:"â˜’",ballotOff:"â˜",ballotOn:"â˜‘",bullet:"â€¢",bulletWhite:"â—¦",fullBlock:"â–ˆ",heart:"â¤",identicalTo:"â‰¡",line:"â”€",mark:"â€»",middot:"Â·",minus:"ï¼",multiplication:"Ã—",obelus:"Ã·",pencilDownRight:"âœŽ",pencilRight:"âœ",pencilUpRight:"âœ",percent:"%",pilcrow2:"â¡",pilcrow:"Â¶",plusMinus:"Â±",section:"Â§",starsOff:"â˜†",starsOn:"â˜…",upDownArrow:"â†•"},n=Object.assign({},r,{check:"âˆš",cross:"Ã—",ellipsisLarge:"...",ellipsis:"...",info:"i",question:"?",questionSmall:"?",pointer:">",pointerSmall:"Â»",radioOff:"( )",radioOn:"(*)",warning:"â€¼"}),o=Object.assign({},r,{ballotCross:"âœ˜",check:"âœ”",cross:"âœ–",ellipsisLarge:"â‹¯",ellipsis:"â€¦",info:"â„¹",question:"?",questionFull:"ï¼Ÿ",questionSmall:"ï¹–",pointer:i?"â–¸":"â¯",pointerSmall:i?"â€£":"â€º",radioOff:"â—¯",radioOn:"â—‰",warning:"âš "});t.exports=s&&!e?n:o,Reflect.defineProperty(t.exports,"common",{enumerable:!1,value:r}),Reflect.defineProperty(t.exports,"windows",{enumerable:!1,value:n}),Reflect.defineProperty(t.exports,"other",{enumerable:!1,value:o})},4031:(t,e,s)=>{"use strict";const i=s(1290),r=s(7187),n=s(3546);class o extends r{constructor(t,e){super(),this.options=n.merge({},t),this.answers={...e}}register(t,e){if(n.isObject(t)){for(let e of Object.keys(t))this.register(e,t[e]);return this}i.equal(typeof e,"function","expected a function");let s=t.toLowerCase();return e.prototype instanceof this.Prompt?this.prompts[s]=e:this.prompts[s]=e(this.Prompt,this),this}async prompt(t=[]){for(let e of[].concat(t))try{"function"==typeof e&&(e=await e.call(this)),await this.ask(n.merge({},this.options,e))}catch(t){return Promise.reject(t)}return this.answers}async ask(t){"function"==typeof t&&(t=await t.call(this));let e=n.merge({},this.options,t),{type:s,name:r}=t,{set:o,get:a}=n;if("function"==typeof s&&(s=await s.call(this,t,this.answers)),!s)return this.answers[r];i(this.prompts[s],`Prompt "${s}" is not registered`);let l=new this.prompts[s](e),h=a(this.answers,r);l.state.answers=this.answers,l.enquirer=this,r&&l.on("submit",(t=>{this.emit("answer",r,t,l),o(this.answers,r,t)}));let u=l.emit.bind(l);return l.emit=(...t)=>(this.emit.call(this,...t),u(...t)),this.emit("prompt",l,this),e.autofill&&null!=h?(l.value=l.input=h,"show"===e.autofill&&await l.submit()):h=l.value=await l.run(),h}use(t){return t.call(this,this),this}set Prompt(t){this._Prompt=t}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(t){this._Prompt=t}static get Prompt(){return this._Prompt||s(232)}static get prompts(){return s(9594)}static get types(){return s(9920)}static get prompt(){const t=(e,...s)=>{let i=new this(...s),r=i.emit.bind(i);return i.emit=(...e)=>(t.emit(...e),r(...e)),i.prompt(e)};return n.mixinEmitter(t,new r),t}}n.mixinEmitter(o,new r);const a=o.prompts;for(let t of Object.keys(a)){let e=t.toLowerCase(),s=e=>new a[t](e).run();o.prompt[e]=s,o[e]=s,o[t]||Reflect.defineProperty(o,t,{get:()=>a[t]})}const l=t=>{n.defineExport(o,t,(()=>o.types[t]))};l("ArrayPrompt"),l("AuthPrompt"),l("BooleanPrompt"),l("NumberPrompt"),l("StringPrompt"),t.exports=o},4907:(t,e,s)=>{"use strict";const i="Apple_Terminal"===process.env.TERM_PROGRAM,r=s(730),n=s(3546),o=t.exports=e,a="[";let l=!1;const h=o.code={bell:"",beep:"",beginning:"[G",down:"[J",esc:a,getPosition:"[6n",hide:"[?25l",line:"[2K",lineEnd:"[K",lineStart:"[1K",restorePosition:a+(i?"8":"u"),savePosition:a+(i?"7":"s"),screen:"[2J",show:"[?25h",up:"[1J"},u=o.cursor={get hidden(){return l},hide:()=>(l=!0,h.hide),show:()=>(l=!1,h.show),forward:(t=1)=>`[${t}C`,backward:(t=1)=>`[${t}D`,nextLine:(t=1)=>"[E".repeat(t),prevLine:(t=1)=>"[F".repeat(t),up:(t=1)=>t?`[${t}A`:"",down:(t=1)=>t?`[${t}B`:"",right:(t=1)=>t?`[${t}C`:"",left:(t=1)=>t?`[${t}D`:"",to:(t,e)=>e?`[${e+1};${t+1}H`:`[${t+1}G`,move(t=0,e=0){let s="";return s+=t<0?u.left(-t):t>0?u.right(t):"",s+=e<0?u.up(-e):e>0?u.down(e):"",s},restore(t={}){let{after:e,cursor:s,initial:i,input:r,prompt:a,size:l,value:h}=t;if(i=n.isPrimitive(i)?String(i):"",r=n.isPrimitive(r)?String(r):"",h=n.isPrimitive(h)?String(h):"",l){let t=o.cursor.up(l)+o.cursor.to(a.length),e=r.length-s;return e>0&&(t+=o.cursor.left(e)),t}if(h||e){let t=!r&&i?-i.length:-r.length+s;return e&&(t-=e.length),""===r&&i&&!a.includes(i)&&(t+=i.length),o.cursor.move(t)}}},c=o.erase={screen:h.screen,up:h.up,down:h.down,line:h.line,lineEnd:h.lineEnd,lineStart:h.lineStart,lines(t){let e="";for(let s=0;s<t;s++)e+=o.erase.line+(s<t-1?o.cursor.up(1):"");return t&&(e+=o.code.beginning),e}};o.clear=(t="",e=process.stdout.columns)=>{if(!e)return c.line+u.to(0);let s=t.split(/\r?\n/),i=0;for(let t of s)i+=1+Math.floor(Math.max((n=t,[...r.unstyle(n)].length-1),0)/e);var n;return(c.line+u.prevLine()).repeat(i-1)+c.line+u.to(0)}},4726:(t,e)=>{"use strict";e.ctrl={a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"},e.shift={up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"},e.fn={up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"},e.option={b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"},e.keys={pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}},3736:t=>{"use strict";const e=t=>(t=>t.filter(((e,s)=>t.lastIndexOf(e)===s)))(t).filter(Boolean);t.exports=(t,s={},i="")=>{let r,n,{past:o=[],present:a=""}=s;switch(t){case"prev":case"undo":return r=o.slice(0,o.length-1),n=o[o.length-1]||"",{past:e([i,...r]),present:n};case"next":case"redo":return r=o.slice(1),n=o[0]||"",{past:e([...r,i]),present:n};case"save":return{past:e([...o,i]),present:""};case"remove":return n=e(o.filter((t=>t!==i))),a="",n.length&&(a=n.pop()),{past:n,present:a};default:throw new Error(`Invalid action: "${t}"`)}}},7189:(t,e,s)=>{"use strict";const i=s(730);class r{constructor(t){this.name=t.key,this.field=t.field||{},this.value=((t="")=>"string"==typeof t?t.replace(/^['"]|['"]$/g,""):"")(t.initial||this.field.initial||""),this.message=t.message||this.name,this.cursor=0,this.input="",this.lines=[]}}function n(t,e,s,i){return(s,r,n,o)=>"function"==typeof n.field[t]?n.field[t].call(e,s,r,n,o):[i,s].find((t=>e.isValue(t)))}t.exports=async t=>{let e=t.options,s=new Set(!0===e.required?[]:e.required||[]),o={...e.values,...e.initial},{tabstops:a,items:l,keys:h}=await(async(t={},e={},s=(t=>t))=>{let i=new Set,n=t.fields||[],o=t.template,a=[],l=[],h=[],u=1;"function"==typeof o&&(o=await o());let c=-1,p=()=>o[++c],d=()=>o[c+1],m=t=>{t.line=u,a.push(t)};for(m({type:"bos",value:""});c<o.length-1;){let t=p();if(/^[^\S\n ]$/.test(t)){m({type:"text",value:t});continue}if("\n"===t){m({type:"newline",value:t}),u++;continue}if("\\"===t){t+=p(),m({type:"text",value:t});continue}if(("$"===t||"#"===t||"{"===t)&&"{"===d()){t+=p();let o,a={type:"template",open:t,inner:"",close:"",value:t};for(;o=p();){if("}"===o){"}"===d()&&(o+=p()),a.value+=o,a.close=o;break}":"===o?(a.initial="",a.key=a.inner):void 0!==a.initial&&(a.initial+=o),a.value+=o,a.inner+=o}a.template=a.open+(a.initial||a.inner)+a.close,a.key=a.key||a.inner,e.hasOwnProperty(a.key)&&(a.initial=e[a.key]),a=s(a),m(a),h.push(a.key),i.add(a.key);let u=l.find((t=>t.name===a.key));a.field=n.find((t=>t.name===a.key)),u||(u=new r(a),l.push(u)),u.lines.push(a.line-1);continue}let o=a[a.length-1];"text"===o.type&&o.line===u?o.value+=t:m({type:"text",value:t})}return m({type:"eos",value:""}),{input:o,tabstops:a,unique:i,keys:h,items:l}})(e,o),u=n("result",t),c=n("format",t),p=n("validate",t,0,!0),d=t.isValue.bind(t);return async(r={},n=!1)=>{let o=0;r.required=s,r.items=l,r.keys=h,r.output="";let m=async(t,e,s,i)=>{let r=await p(t,e,s,i);return!1===r?"Invalid field "+s.name:r};for(let s of a){let a=s.value,h=s.key;if("template"===s.type){if("template"===s.type){let p=l.find((t=>t.name===h));!0===e.required&&r.required.add(p.name);let f=[p.input,r.values[p.value],p.value,a].find(d),g=(p.field||{}).message||s.inner;if(n){let t=await m(r.values[h],r,p,o);if(t&&"string"==typeof t||!1===t){r.invalid.set(h,t);continue}r.invalid.delete(h);let e=await u(r.values[h],r,p,o);r.output+=i.unstyle(e);continue}p.placeholder=!1;let y=a;a=await c(a,r,p,o),f!==a?(r.values[h]=f,a=t.styles.typing(f),r.missing.delete(g)):(r.values[h]=void 0,f=`<${g}>`,a=t.styles.primary(f),p.placeholder=!0,r.required.has(h)&&r.missing.add(g)),r.missing.has(g)&&r.validating&&(a=t.styles.warning(f)),r.invalid.has(h)&&r.validating&&(a=t.styles.danger(f)),o===r.index&&(a=y!==a?t.styles.underline(a):t.styles.heading(i.unstyle(a))),o++}a&&(r.output+=a)}else a&&(r.output+=a)}let f=r.output.split("\n").map((t=>" "+t)),g=l.length,y=0;for(let e of l)r.invalid.has(e.name)&&e.lines.forEach((t=>{" "===f[t][0]&&(f[t]=r.styles.danger(r.symbols.bullet)+f[t].slice(1))})),t.isValue(r.values[e.name])&&y++;return r.completed=(y/g*100).toFixed(0),r.output=f.join("\n"),r.output}}},8914:(t,e,s)=>{"use strict";const i=s(5697),r=s(4726),n=/^(?:\x1b)([a-zA-Z0-9])$/,o=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,a={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"},l=(t="",e={})=>{let s,i={name:e.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:t,raw:t,...e};if(Buffer.isBuffer(t)?t[0]>127&&void 0===t[1]?(t[0]-=128,t=""+String(t)):t=String(t):void 0!==t&&"string"!=typeof t?t=String(t):t||(t=i.sequence||""),i.sequence=i.sequence||t||i.name,"\r"===t)i.raw=void 0,i.name="return";else if("\n"===t)i.name="enter";else if("\t"===t)i.name="tab";else if("\b"===t||""===t||""===t||"\b"===t)i.name="backspace",i.meta=""===t.charAt(0);else if(""===t||""===t)i.name="escape",i.meta=2===t.length;else if(" "===t||" "===t)i.name="space",i.meta=2===t.length;else if(t<="")i.name=String.fromCharCode(t.charCodeAt(0)+"a".charCodeAt(0)-1),i.ctrl=!0;else if(1===t.length&&t>="0"&&t<="9")i.name="number";else if(1===t.length&&t>="a"&&t<="z")i.name=t;else if(1===t.length&&t>="A"&&t<="Z")i.name=t.toLowerCase(),i.shift=!0;else if(s=n.exec(t))i.meta=!0,i.shift=/^[A-Z]$/.test(s[1]);else if(s=o.exec(t)){let e=[...t];""===e[0]&&""===e[1]&&(i.option=!0);let r=[s[1],s[2],s[4],s[6]].filter(Boolean).join(""),n=(s[3]||s[5]||1)-1;i.ctrl=!!(4&n),i.meta=!!(10&n),i.shift=!!(1&n),i.code=r,i.name=a[r],i.shift=function(t){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(t)}(r)||i.shift,i.ctrl=function(t){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(t)}(r)||i.ctrl}return i};l.listen=(t={},e)=>{let{stdin:s}=t;if(!s||s!==process.stdin&&!s.isTTY)throw new Error("Invalid stream passed");let r=i.createInterface({terminal:!0,input:s});i.emitKeypressEvents(s,r);let n=(t,s)=>e(t,l(t,s),r),o=s.isRaw;return s.isTTY&&s.setRawMode(!0),s.on("keypress",n),r.resume(),()=>{s.isTTY&&s.setRawMode(o),s.removeListener("keypress",n),r.pause(),r.close()}},l.action=(t,e,s)=>{let i={...r,...s};return e.ctrl?(e.action=i.ctrl[e.name],e):e.option&&i.option?(e.action=i.option[e.name],e):e.shift?(e.action=i.shift[e.name],e):(e.action=i.keys[e.name],e)},t.exports=l},2786:(t,e,s)=>{"use strict";const i=s(3546);t.exports=(t,e={})=>{t.cursorHide();let{input:s="",initial:r="",pos:n,showCursor:o=!0,color:a}=e,l=a||t.styles.placeholder,h=i.inverse(t.styles.primary),u=e=>h(t.styles.black(e)),c=s,p=u(" ");if(t.blink&&!0===t.blink.off&&(u=t=>t,p=""),o&&0===n&&""===r&&""===s)return u(" ");if(o&&0===n&&(s===r||""===s))return u(r[0])+l(r.slice(1));r=i.isPrimitive(r)?`${r}`:"",s=i.isPrimitive(s)?`${s}`:"";let d=r&&r.startsWith(s)&&r!==s,m=d?u(r[s.length]):p;if(n!==s.length&&!0===o&&(c=s.slice(0,n)+u(s[n])+s.slice(n+1),m=""),!1===o&&(m=""),d){let e=t.styles.unstyle(c+m);return c+m+l(r.slice(e.length))}return c+m}},232:(t,e,s)=>{"use strict";const i=s(7187),r=s(730),n=s(8914),o=s(3940),a=s(6873),l=s(9227),h=s(3546),u=s(4907);class c extends i{constructor(t={}){super(),this.name=t.name,this.type=t.type,this.options=t,l(this),o(this),this.state=new a(this),this.initial=[t.initial,t.default].find((t=>null!=t)),this.stdout=t.stdout||process.stdout,this.stdin=t.stdin||process.stdin,this.scale=t.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=function(t){"number"==typeof t&&(t=[t,t,t,t]);let e=[].concat(t||[]),s=t=>t%2==0?"\n":" ",i=[];for(let t=0;t<4;t++){let r=s(t);e[t]?i.push(r.repeat(e[t])):i.push("")}return i}(this.options.margin),this.setMaxListeners(0),function(t){let e=e=>void 0===t[e]||"function"==typeof t[e],s=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],i=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let r of Object.keys(t.options)){if(s.includes(r))continue;if(/^on[A-Z]/.test(r))continue;let n=t.options[r];"function"==typeof n&&e(r)?i.includes(r)||(t[r]=n.bind(t)):"function"!=typeof t[r]&&(t[r]=n)}}(this)}async keypress(t,e={}){this.keypressed=!0;let s=n.action(t,n(t,e),this.options.actions);this.state.keypress=s,this.emit("keypress",t,s),this.emit("state",this.state.clone());let i=this.options[s.action]||this[s.action]||this.dispatch;if("function"==typeof i)return await i.call(this,t,s);this.alert()}alert(){delete this.state.alert,!1===this.options.show?this.emit("alert"):this.stdout.write(u.code.beep)}cursorHide(){this.stdout.write(u.cursor.hide()),h.onExit((()=>this.cursorShow()))}cursorShow(){this.stdout.write(u.cursor.show())}write(t){t&&(this.stdout&&!1!==this.state.show&&this.stdout.write(t),this.state.buffer+=t)}clear(t=0){let e=this.state.buffer;this.state.buffer="",(e||t)&&!1!==this.options.show&&this.stdout.write(u.cursor.down(t)+u.clear(e,this.width))}restore(){if(this.state.closed||!1===this.options.show)return;let{prompt:t,after:e,rest:s}=this.sections(),{cursor:i,initial:r="",input:n="",value:o=""}=this,a={after:e,cursor:i,initial:r,input:n,prompt:t,size:this.state.size=s.length,value:o},l=u.cursor.restore(a);l&&this.stdout.write(l)}sections(){let{buffer:t,input:e,prompt:s}=this.state;s=r.unstyle(s);let i=r.unstyle(t),n=i.indexOf(s),o=i.slice(0,n),a=i.slice(n).split("\n"),l=a[0],h=a[a.length-1],u=(s+(e?" "+e:"")).length,c=u<l.length?l.slice(u+1):"";return{header:o,prompt:l,after:c,rest:a.slice(1),last:h}}async submit(){this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit&&await this.options.onSubmit.call(this,this.name,this.value,this);let t=this.state.error||await this.validate(this.value,this.state);if(!0!==t){let e="\n"+this.symbols.pointer+" ";return e+="string"==typeof t?t.trim():"Invalid input",this.state.error="\n"+this.styles.danger(e),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,void(this.state.error=void 0)}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(t){this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),"function"==typeof this.options.onCancel&&await this.options.onCancel.call(this,this.name,this.value,this),this.emit("cancel",await this.error(t))}async close(){this.state.closed=!0;try{let t=this.sections(),e=Math.ceil(t.prompt.length/this.width);t.rest&&this.write(u.cursor.down(t.rest.length)),this.write("\n".repeat(e))}catch(t){}this.emit("close")}start(){this.stop||!1===this.options.show||(this.stop=n.listen(this,this.keypress.bind(this)),this.once("close",this.stop))}async skip(){return this.skipped=!0===this.options.skip,"function"==typeof this.options.skip&&(this.skipped=await this.options.skip.call(this,this.name,this.value)),this.skipped}async initialize(){let{format:t,options:e,result:s}=this;if(this.format=()=>t.call(this,this.value),this.result=()=>s.call(this,this.value),"function"==typeof e.initial&&(this.initial=await e.initial.call(this,this)),"function"==typeof e.onRun&&await e.onRun.call(this,this),"function"==typeof e.onSubmit){let t=e.onSubmit.bind(this),s=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>(await t(this.name,this.value,this),s())}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise((async(t,e)=>{if(this.once("submit",t),this.once("cancel",e),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")}))}async element(t,e,s){let{options:i,state:r,symbols:n,timers:o}=this,a=o&&o[t];r.timer=a;let l=i[t]||r[t]||n[t],h=e&&null!=e[t]?e[t]:await l;if(""===h)return h;let u=await this.resolve(h,r,e,s);return!u&&e&&e[t]?this.resolve(l,r,e,s):u}async prefix(){let t=await this.element("prefix")||this.symbols,e=this.timers&&this.timers.prefix,s=this.state;return s.timer=e,h.isObject(t)&&(t=t[s.status]||t.pending),h.hasColor(t)?t:(this.styles[s.status]||this.styles.pending)(t)}async message(){let t=await this.element("message");return h.hasColor(t)?t:this.styles.strong(t)}async separator(){let t=await this.element("separator")||this.symbols,e=this.timers&&this.timers.separator,s=this.state;s.timer=e;let i=t[s.status]||t.pending||s.separator,r=await this.resolve(i,s);return h.isObject(r)&&(r=r[s.status]||r.pending),h.hasColor(r)?r:this.styles.muted(r)}async pointer(t,e){let s=await this.element("pointer",t,e);if("string"==typeof s&&h.hasColor(s))return s;if(s){let t=this.styles,i=this.index===e,r=i?t.primary:t=>t,n=await this.resolve(s[i?"on":"off"]||s,this.state),o=h.hasColor(n)?n:r(n);return i?o:" ".repeat(n.length)}}async indicator(t,e){let s=await this.element("indicator",t,e);if("string"==typeof s&&h.hasColor(s))return s;if(s){let e=this.styles,i=!0===t.enabled,r=i?e.success:e.dark,n=s[i?"on":"off"]||s;return h.hasColor(n)?n:r(n)}return""}body(){return null}footer(){if("pending"===this.state.status)return this.element("footer")}header(){if("pending"===this.state.status)return this.element("header")}async hint(){if("pending"===this.state.status&&!this.isValue(this.state.input)){let t=await this.element("hint");return h.hasColor(t)?t:this.styles.muted(t)}}error(t){return this.state.submitted?"":t||this.state.error}format(t){return t}result(t){return t}validate(t){return!0!==this.options.required||this.isValue(t)}isValue(t){return null!=t&&""!==t}resolve(t,...e){return h.resolve(this,t,...e)}get base(){return c.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||h.height(this.stdout,25)}get width(){return this.options.columns||h.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(t){this.state.cursor=t}get cursor(){return this.state.cursor}set input(t){this.state.input=t}get input(){return this.state.input}set value(t){this.state.value=t}get value(){let{input:t,value:e}=this.state,s=[e,t].find(this.isValue.bind(this));return this.isValue(s)?s:this.initial}static get prompt(){return t=>new this(t).run()}}t.exports=c},9317:(t,e,s)=>{"use strict";const i=s(3466);t.exports=class extends i{constructor(t){super(t),this.cursorShow()}moveCursor(t){this.state.cursor+=t}dispatch(t){return this.append(t)}space(t){return this.options.multiple?super.space(t):this.append(t)}append(t){let{cursor:e,input:s}=this.state;return this.input=s.slice(0,e)+t+s.slice(e),this.moveCursor(1),this.complete()}delete(){let{cursor:t,input:e}=this.state;return e?(this.input=e.slice(0,t-1)+e.slice(t),this.moveCursor(-1),this.complete()):this.alert()}deleteForward(){let{cursor:t,input:e}=this.state;return void 0===e[t]?this.alert():(this.input=`${e}`.slice(0,t)+`${e}`.slice(t+1),this.complete())}number(t){return this.append(t)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(t=this.input,e=this.state._choices){if("function"==typeof this.options.suggest)return this.options.suggest.call(this,t,e);let s=t.toLowerCase();return e.filter((t=>t.message.toLowerCase().includes(s)))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map((t=>this.styles.primary(t.message))).join(", ");if(this.state.submitted){let t=this.value=this.input=this.focused.value;return this.styles.primary(t)}return this.input}async render(){if("pending"!==this.state.status)return super.render();let t=this.options.highlight?this.options.highlight.bind(this):this.styles.placeholder,e=((t,e)=>{let s=t.toLowerCase();return t=>{let i=t.toLowerCase().indexOf(s),r=e(t.slice(i,i+s.length));return i>=0?t.slice(0,i)+r+t.slice(i+s.length):t}})(this.input,t),s=this.choices;this.choices=s.map((t=>({...t,message:e(t.message)}))),await super.render(),this.choices=s}submit(){return this.options.multiple&&(this.value=this.selected.map((t=>t.name))),super.submit()}}},7186:(t,e,s)=>{"use strict";const i=s(6926);function r(t,e){return t.username===this.options.username&&t.password===this.options.password}const n=(t=r)=>{const e=[{name:"username",message:"username"},{name:"password",message:"password",format(t){return this.options.showPassword?t:(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(t.length))}}];class s extends(i.create(t)){constructor(t){super({...t,choices:e})}static create(t){return n(t)}}return s};t.exports=n()},1291:(t,e,s)=>{"use strict";const i=s(3838);t.exports=class extends i{constructor(t){super(t),this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}}},848:(t,e,s)=>{"use strict";const i=s(3466),r=s(1826).prototype;t.exports=class extends i{constructor(t){super({...t,multiple:!0}),this.align=[this.options.align,"left"].find((t=>null!=t)),this.emptyError="",this.values={}}dispatch(t,e){let s=this.focused,i=s.parent||{};return s.editable||i.editable||"a"!==t&&"i"!==t?r.dispatch.call(this,t,e):super[t]()}append(t,e){return r.append.call(this,t,e)}delete(t,e){return r.delete.call(this,t,e)}space(t){return this.focused.editable?this.append(t):super.space()}number(t){return this.focused.editable?this.append(t):super.number(t)}next(){return this.focused.editable?r.next.call(this):super.next()}prev(){return this.focused.editable?r.prev.call(this):super.prev()}async indicator(t,e){let s=t.indicator||"",i=t.editable?s:super.indicator(t,e);return await this.resolve(i,this.state,t,e)||""}indent(t){return"heading"===t.role?"":t.editable?" ":"  "}async renderChoice(t,e){return t.indent="",t.editable?r.renderChoice.call(this,t,e):super.renderChoice(t,e)}error(){return""}footer(){return this.state.error}async validate(){let t=!0;for(let e of this.choices){if("function"!=typeof e.validate)continue;if("heading"===e.role)continue;let s=e.parent?this.value[e.parent.name]:this.value;if(e.editable?s=e.value===e.name?e.initial||"":e.value:this.isDisabled(e)||(s=!0===e.enabled),t=await e.validate(s,this.state),!0!==t)break}return!0!==t&&(this.state.error="string"==typeof t?t:"Invalid Input"),t}submit(){if(!0===this.focused.newChoice)return super.submit();if(this.choices.some((t=>t.newChoice)))return this.alert();this.value={};for(let t of this.choices){let e=t.parent?this.value[t.parent.name]:this.value;"heading"!==t.role?t.editable?e[t.name]=t.value===t.name?t.initial||"":t.value:this.isDisabled(t)||(e[t.name]=!0===t.enabled):this.value[t.name]={}}return this.base.submit.call(this)}}},1826:(t,e,s)=>{"use strict";const i=s(730),r=s(3466),n=s(2786);t.exports=class extends r{constructor(t){super({...t,multiple:!0}),this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find((t=>null!=t)),this.emptyError="",this.values={}}async reset(t){return await super.reset(),!0===t&&(this._index=this.index),this.index=this._index,this.values={},this.choices.forEach((t=>t.reset&&t.reset())),this.render()}dispatch(t){return!!t&&this.append(t)}append(t){let e=this.focused;if(!e)return this.alert();let{cursor:s,input:i}=e;return e.value=e.input=i.slice(0,s)+t+i.slice(s),e.cursor++,this.render()}delete(){let t=this.focused;if(!t||t.cursor<=0)return this.alert();let{cursor:e,input:s}=t;return t.value=t.input=s.slice(0,e-1)+s.slice(e),t.cursor--,this.render()}deleteForward(){let t=this.focused;if(!t)return this.alert();let{cursor:e,input:s}=t;if(void 0===s[e])return this.alert();let i=`${s}`.slice(0,e)+`${s}`.slice(e+1);return t.value=t.input=i,this.render()}right(){let t=this.focused;return t?t.cursor>=t.input.length?this.alert():(t.cursor++,this.render()):this.alert()}left(){let t=this.focused;return t?t.cursor<=0?this.alert():(t.cursor--,this.render()):this.alert()}space(t,e){return this.dispatch(t,e)}number(t,e){return this.dispatch(t,e)}next(){let t=this.focused;if(!t)return this.alert();let{initial:e,input:s}=t;return e&&e.startsWith(s)&&s!==e?(t.value=t.input=e,t.cursor=t.value.length,this.render()):super.next()}prev(){let t=this.focused;return t?0===t.cursor?super.prev():(t.value=t.input="",t.cursor=0,this.render()):this.alert()}separator(){return""}format(t){return this.state.submitted?"":super.format(t)}pointer(){return""}indicator(t){return t.input?"â¦¿":"âŠ™"}async choiceSeparator(t,e){let s=await this.resolve(t.separator,this.state,t,e)||":";return s?" "+this.styles.disabled(s):""}async renderChoice(t,e){await this.onChoice(t,e);let{state:s,styles:r}=this,{cursor:o,initial:a="",name:l,hint:h,input:u=""}=t,{muted:c,submitted:p,primary:d,danger:m}=r,f=h,g=this.index===e,y=t.validate||(()=>!0),v=await this.choiceSeparator(t,e),w=t.message;"right"===this.align&&(w=w.padStart(this.longest+1," ")),"left"===this.align&&(w=w.padEnd(this.longest+1," "));let b=this.values[l]=u||a,E=u?"success":"dark";!0!==await y.call(t,b,this.state)&&(E="danger");let x=(0,r[E])(await this.indicator(t,e))+(t.pad||""),$=this.indent(t),R=()=>[$,x,w+v,u,f].filter(Boolean).join(" ");if(s.submitted)return w=i.unstyle(w),u=p(u),f="",R();if(t.format)u=await t.format.call(this,u,t,e);else{let t=this.styles.muted;u=n(this,{input:u,initial:a,pos:o,showCursor:g,color:t})}return this.isValue(u)||(u=this.styles.muted(this.symbols.ellipsis)),t.result&&(this.values[l]=await t.result.call(this,b,t,e)),g&&(w=d(w)),t.error?u+=(u?" ":"")+m(t.error.trim()):t.hint&&(u+=(u?" ":"")+c(t.hint.trim())),R()}async submit(){return this.value=this.values,super.base.submit.call(this)}}},9594:(t,e,s)=>{"use strict";const i=s(3546),r=(t,s)=>{i.defineExport(e,t,s),i.defineExport(e,t.toLowerCase(),s)};r("AutoComplete",(()=>s(9317))),r("BasicAuth",(()=>s(7186))),r("Confirm",(()=>s(1291))),r("Editable",(()=>s(848))),r("Form",(()=>s(1826))),r("Input",(()=>s(6719))),r("Invisible",(()=>s(9822))),r("List",(()=>s(6795))),r("MultiSelect",(()=>s(1056))),r("Numeral",(()=>s(7403))),r("Password",(()=>s(6847))),r("Scale",(()=>s(7813))),r("Select",(()=>s(3466))),r("Snippet",(()=>s(9451))),r("Sort",(()=>s(7144))),r("Survey",(()=>s(3755))),r("Text",(()=>s(5781))),r("Toggle",(()=>s(653))),r("Quiz",(()=>s(2249)))},6719:(t,e,s)=>{"use strict";const i=s(3391),r=s(3736);t.exports=class extends i{constructor(t){super(t);let e=this.options.history;if(e&&e.store){let t=e.values||this.initial;this.autosave=!!e.autosave,this.store=e.store,this.data=this.store.get("values")||{past:[],present:t},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(t){return this.store?(this.data=r(t,this.data,this.input),this.data.present?(this.input=this.data.present,this.cursor=this.input.length,this.render()):this.alert()):this.alert()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){this.store&&(this.data=r("save",this.data,this.input),this.store.set("values",this.data))}submit(){return this.store&&!0===this.autosave&&this.save(),super.submit()}}},9822:(t,e,s)=>{"use strict";const i=s(3391);t.exports=class extends i{format(){return""}}},6795:(t,e,s)=>{"use strict";const i=s(3391);t.exports=class extends i{constructor(t={}){super(t),this.sep=this.options.separator||/, */,this.initial=t.initial||""}split(t=this.value){return t?String(t).split(this.sep):[]}format(){let t=this.state.submitted?this.styles.primary:t=>t;return this.list.map(t).join(", ")}async submit(t){let e=this.state.error||await this.validate(this.list,this.state);return!0!==e?(this.state.error=e,super.submit()):(this.value=this.list,super.submit())}get list(){return this.split()}}},1056:(t,e,s)=>{"use strict";const i=s(3466);t.exports=class extends i{constructor(t){super({...t,multiple:!0})}}},7403:(t,e,s)=>{t.exports=s(5376)},6847:(t,e,s)=>{"use strict";const i=s(3391);t.exports=class extends i{constructor(t){super(t),this.cursorShow()}format(t=this.input){return this.keypressed?(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(t.length)):""}}},2249:(t,e,s)=>{"use strict";const i=s(3466);t.exports=class extends i{constructor(t){if(super(t),"number"!=typeof this.options.correctChoice||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(t,e){let s=await super.toChoices(t,e);if(s.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>s.length)throw new Error("Please specify the index of the correct answer from the list of choices");return s}check(t){return t.index===this.options.correctChoice}async result(t){return{selectedAnswer:t,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}}},7813:(t,e,s)=>{"use strict";const i=s(730),r=s(8575),n=s(3546);t.exports=class extends r{constructor(t={}){super(t),this.widths=[].concat(t.messageWidth||50),this.align=[].concat(t.align||"left"),this.linebreak=t.linebreak||!1,this.edgeLength=t.edgeLength||3,this.newline=t.newline||"\n   ";let e=t.startNumber||1;"number"==typeof this.scale&&(this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map(((t,s)=>({name:s+e}))))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(!0===this.tableized)return;this.tableized=!0;let t=0;for(let e of this.choices){t=Math.max(t,e.message.length),e.scaleIndex=e.initial||2,e.scale=[];for(let t=0;t<this.scale.length;t++)e.scale.push({index:t})}this.widths[0]=Math.min(this.widths[0],t+3)}async dispatch(t,e){if(this.multiple)return this[e.name]?await this[e.name](t,e):await super.dispatch(t,e);this.alert()}heading(t,e,s){return this.styles.strong(t)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let t=this.focused;return t.scaleIndex>=this.scale.length-1?this.alert():(t.scaleIndex++,this.render())}left(){let t=this.focused;return t.scaleIndex<=0?this.alert():(t.scaleIndex--,this.render())}indent(){return""}format(){return this.state.submitted?this.choices.map((t=>this.styles.info(t.index))).join(", "):""}pointer(){return""}renderScaleKey(){return!1===this.scaleKey||this.state.submitted?"":["",...this.scale.map((t=>`   ${t.name} - ${t.message}`))].map((t=>this.styles.muted(t))).join("\n")}renderScaleHeading(t){let e=this.scale.map((t=>t.name));"function"==typeof this.options.renderScaleHeading&&(e=this.options.renderScaleHeading.call(this,t));let s=this.scaleLength-e.join("").length,i=Math.round(s/(e.length-1)),r=e.map((t=>this.styles.strong(t))).join(" ".repeat(i)),n=" ".repeat(this.widths[0]);return this.margin[3]+n+this.margin[1]+r}scaleIndicator(t,e,s){if("function"==typeof this.options.scaleIndicator)return this.options.scaleIndicator.call(this,t,e,s);let i=t.scaleIndex===e.index;return e.disabled?this.styles.hint(this.symbols.radio.disabled):i?this.styles.success(this.symbols.radio.on):this.symbols.radio.off}renderScale(t,e){let s=t.scale.map((s=>this.scaleIndicator(t,s,e))),i="Hyper"===this.term?"":" ";return s.join(i+this.symbols.line.repeat(this.edgeLength))}async renderChoice(t,e){await this.onChoice(t,e);let s=this.index===e,r=await this.pointer(t,e),o=await t.hint;o&&!n.hasColor(o)&&(o=this.styles.muted(o));let a=t=>this.margin[3]+t.replace(/\s+$/,"").padEnd(this.widths[0]," "),l=this.newline,h=this.indent(t),u=await this.resolve(t.message,this.state,t,e),c=await this.renderScale(t,e),p=this.margin[1]+this.margin[3];this.scaleLength=i.unstyle(c).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-p.length);let d=n.wordWrap(u,{width:this.widths[0],newline:l}).split("\n").map((t=>a(t)+this.margin[1]));return s&&(c=this.styles.info(c),d=d.map((t=>this.styles.info(t)))),d[0]+=c,this.linebreak&&d.push(""),[h+r,d.join("\n")].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e))),e=await Promise.all(t),s=await this.renderScaleHeading();return this.margin[0]+[s,...e.map((t=>t.join(" ")))].join("\n")}async render(){let{submitted:t,size:e}=this.state,s=await this.prefix(),i=await this.separator(),r=await this.message(),n="";!1!==this.options.promptLine&&(n=[s,r,i,""].join(" "),this.state.prompt=n);let o=await this.header(),a=await this.format(),l=await this.renderScaleKey(),h=await this.error()||await this.hint(),u=await this.renderChoices(),c=await this.footer(),p=this.emptyError;a&&(n+=a),h&&!n.includes(h)&&(n+=" "+h),t&&!a&&!u.trim()&&this.multiple&&null!=p&&(n+=this.styles.danger(p)),this.clear(e),this.write([o,n,l,u,c].filter(Boolean).join("\n")),this.state.submitted||this.write(this.margin[2]),this.restore()}submit(){this.value={};for(let t of this.choices)this.value[t.name]=t.scaleIndex;return this.base.submit.call(this)}}},3466:(t,e,s)=>{"use strict";const i=s(8575),r=s(3546);t.exports=class extends i{constructor(t){super(t),this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(t,e){if(this.multiple)return this[e.name]?await this[e.name](t,e):await super.dispatch(t,e);this.alert()}separator(){if(this.options.separator)return super.separator();let t=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():t}pointer(t,e){return!this.multiple||this.options.pointer?super.pointer(t,e):""}indicator(t,e){return this.multiple?super.indicator(t,e):""}choiceMessage(t,e){let s=this.resolve(t.message,this.state,t,e);return"heading"!==t.role||r.hasColor(s)||(s=this.styles.strong(s)),this.resolve(s,this.state,t,e)}choiceSeparator(){return":"}async renderChoice(t,e){await this.onChoice(t,e);let s=this.index===e,i=await this.pointer(t,e),n=await this.indicator(t,e)+(t.pad||""),o=await this.resolve(t.hint,this.state,t,e);o&&!r.hasColor(o)&&(o=this.styles.muted(o));let a=this.indent(t),l=await this.choiceMessage(t,e),h=()=>[this.margin[3],a+i+n,l,this.margin[1],o].filter(Boolean).join(" ");return"heading"===t.role?h():t.disabled?(r.hasColor(l)||(l=this.styles.disabled(l)),h()):(s&&(l=this.styles.em(l)),h())}async renderChoices(){if("choices"===this.state.loading)return this.styles.warning("Loading choices");if(this.state.submitted)return"";let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e))),e=await Promise.all(t);e.length||e.push(this.styles.danger("No matching choices"));let s,i=this.margin[0]+e.join("\n");return this.options.choicesHeader&&(s=await this.resolve(this.options.choicesHeader,this.state)),[s,i].filter(Boolean).join("\n")}format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map((t=>this.styles.primary(t.name))).join(", "):this.styles.primary(this.selected.name)}async render(){let{submitted:t,size:e}=this.state,s="",i=await this.header(),r=await this.prefix(),n=await this.separator(),o=await this.message();!1!==this.options.promptLine&&(s=[r,o,n,""].join(" "),this.state.prompt=s);let a=await this.format(),l=await this.error()||await this.hint(),h=await this.renderChoices(),u=await this.footer();a&&(s+=a),l&&!s.includes(l)&&(s+=" "+l),t&&!a&&!h.trim()&&this.multiple&&null!=this.emptyError&&(s+=this.styles.danger(this.emptyError)),this.clear(e),this.write([i,s,h,u].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}}},9451:(t,e,s)=>{"use strict";const i=s(730),r=s(7189),n=s(232);t.exports=class extends n{constructor(t){super(t),this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await r(this),await super.initialize()}async reset(t){this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},!0!==t&&(await this.initialize(),await this.render())}moveCursor(t){let e=this.getItem();this.cursor+=t,e.cursor+=t}dispatch(t,e){e.code||e.ctrl||null==t||!this.getItem()?this.alert():this.append(t,e)}append(t,e){let s=this.getItem(),i=s.input.slice(0,this.cursor),r=s.input.slice(this.cursor);this.input=s.input=`${i}${t}${r}`,this.moveCursor(1),this.render()}delete(){let t=this.getItem();if(this.cursor<=0||!t.input)return this.alert();let e=t.input.slice(this.cursor),s=t.input.slice(0,this.cursor-1);this.input=t.input=`${s}${e}`,this.moveCursor(-1),this.render()}increment(t){return t>=this.state.keys.length-1?0:t+1}decrement(t){return t<=0?this.state.keys.length-1:t-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(t){let e=this.state.completed<100?this.styles.warning:this.styles.success;return!0===this.state.submitted&&100!==this.state.completed&&(e=this.styles.danger),e(`${this.state.completed}% completed`)}async render(){let{index:t,keys:e=[],submitted:s,size:i}=this.state,r=[this.options.newline,"\n"].find((t=>null!=t)),n=await this.prefix(),o=await this.separator(),a=[n,await this.message(),o].filter(Boolean).join(" ");this.state.prompt=a;let l=await this.header(),h=await this.error()||"",u=await this.hint()||"",c=s?"":await this.interpolate(this.state),p=this.state.key=e[t]||"",d=await this.format(p),m=await this.footer();d&&(a+=" "+d),u&&!d&&0===this.state.completed&&(a+=" "+u),this.clear(i);let f=[l,a,c,m,h.trim()];this.write(f.filter(Boolean).join(r)),this.restore()}getItem(t){let{items:e,keys:s,index:i}=this.state,r=e.find((t=>t.name===s[i]));return r&&null!=r.input&&(this.input=r.input,this.cursor=r.cursor),r}async submit(){"function"!=typeof this.interpolate&&await this.initialize(),await this.interpolate(this.state,!0);let{invalid:t,missing:e,output:s,values:r}=this.state;if(t.size){let e="";for(let[s,i]of t)e+=`Invalid ${s}: ${i}\n`;return this.state.error=e,super.submit()}if(e.size)return this.state.error="Required: "+[...e.keys()].join(", "),super.submit();let n=i.unstyle(s).split("\n").map((t=>t.slice(1))).join("\n");return this.value={values:r,result:n},super.submit()}}},7144:(t,e,s)=>{"use strict";const i="(Use <shift>+<up/down> to sort)",r=s(3466);t.exports=class extends r{constructor(t){super({...t,reorder:!1,sort:!0,multiple:!0}),this.state.hint=[this.options.hint,i].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(t,e){let s=await super.renderChoice(t,e),i=this.symbols.identicalTo+" ",r=this.index===e&&this.sorting?this.styles.muted(i):"  ";return!1===this.options.drag&&(r=""),!0===this.options.numbered?r+`${e+1} - `+s:r+s}get selected(){return this.choices}submit(){return this.value=this.choices.map((t=>t.value)),super.submit()}}},3755:(t,e,s)=>{"use strict";const i=s(8575);function r(t,e={}){if(Array.isArray(e.scale))return e.scale.map((t=>({...t})));let s=[];for(let e=1;e<t+1;e++)s.push({i:e,selected:!1});return s}t.exports=class extends i{constructor(t={}){if(super(t),this.emptyError=t.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let t=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];t=t.map((t=>this.styles.muted(t))),this.state.header=t.join("\n   ")}}async toChoices(...t){if(this.createdScales)return!1;this.createdScales=!0;let e=await super.toChoices(...t);for(let t of e)t.scale=r(5,this.options),t.scaleIdx=2;return e}dispatch(){this.alert()}space(){let t=this.focused,e=t.scale[t.scaleIdx],s=e.selected;return t.scale.forEach((t=>t.selected=!1)),e.selected=!s,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let t=this.focused;return t.scaleIdx>=t.scale.length-1?this.alert():(t.scaleIdx++,this.render())}left(){let t=this.focused;return t.scaleIdx<=0?this.alert():(t.scaleIdx--,this.render())}indent(){return"   "}async renderChoice(t,e){await this.onChoice(t,e);let s=this.index===e,i="Hyper"===this.term,r=i?9:8,n=i?"":" ",o=this.symbols.line.repeat(r),a=" ".repeat(r+(i?0:1)),l=t=>(t?this.styles.success("â—‰"):"â—¯")+n,h=e+1+".",u=s?this.styles.heading:this.styles.noop,c=await this.resolve(t.message,this.state,t,e),p=this.indent(t),d=p+t.scale.map(((e,s)=>l(s===t.scaleIdx))).join(o),m=p+t.scale.map(((e,s)=>(e=>e===t.scaleIdx?u(e):e)(s))).join(a);return s&&(d=this.styles.cyan(d),m=this.styles.cyan(m)),[[h,c].filter(Boolean).join(" "),d,m," "].filter(Boolean).join("\n")}async renderChoices(){if(this.state.submitted)return"";let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e))),e=await Promise.all(t);return e.length||e.push(this.styles.danger("No matching choices")),e.join("\n")}format(){return this.state.submitted?this.choices.map((t=>this.styles.info(t.scaleIdx))).join(", "):""}async render(){let{submitted:t,size:e}=this.state,s=await this.prefix(),i=await this.separator(),r=[s,await this.message(),i].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header(),o=await this.format(),a=await this.error()||await this.hint(),l=await this.renderChoices(),h=await this.footer();!o&&a||(r+=" "+o),a&&!r.includes(a)&&(r+=" "+a),t&&!o&&!l&&this.multiple&&"form"!==this.type&&(r+=this.styles.danger(this.emptyError)),this.clear(e),this.write([r,n,l,h].filter(Boolean).join("\n")),this.restore()}submit(){this.value={};for(let t of this.choices)this.value[t.name]=t.scaleIdx;return this.base.submit.call(this)}}},5781:(t,e,s)=>{t.exports=s(6719)},653:(t,e,s)=>{"use strict";const i=s(3838);t.exports=class extends i{async initialize(){await super.initialize(),this.value=this.initial=!!this.options.initial,this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(!0===this.value)return this.alert();this.value=!0,this.render()}disable(){if(!1===this.value)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(t="",e){switch(t.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let t=t=>this.styles.primary.underline(t);return[this.value?this.disabled:t(this.disabled),this.value?t(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:t}=this.state,e=await this.header(),s=await this.prefix(),i=await this.separator(),r=await this.message(),n=await this.format(),o=await this.error()||await this.hint(),a=await this.footer(),l=[s,r,i,n].join(" ");this.state.prompt=l,o&&!l.includes(o)&&(l+=" "+o),this.clear(t),this.write([e,l,a].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}}},1502:(t,e,s)=>{"use strict";const i=s(3546),r={default:(t,e)=>e,checkbox(t,e){throw new Error("checkbox role is not implemented yet")},editable(t,e){throw new Error("editable role is not implemented yet")},expandable(t,e){throw new Error("expandable role is not implemented yet")},heading:(t,e)=>(e.disabled="",e.indicator=[e.indicator," "].find((t=>null!=t)),e.message=e.message||"",e),input(t,e){throw new Error("input role is not implemented yet")},option:(t,e)=>r.default(t,e),radio(t,e){throw new Error("radio role is not implemented yet")},separator:(t,e)=>(e.disabled="",e.indicator=[e.indicator," "].find((t=>null!=t)),e.message=e.message||t.symbols.line.repeat(5),e),spacer:(t,e)=>e};t.exports=(t,e={})=>{let s=i.merge({},r,e.roles);return s[t]||s.default}},6873:(t,e,s)=>{"use strict";const{define:i,width:r}=s(3546);t.exports=class{constructor(t){let e=t.options;i(this,"_prompt",t),this.type=t.type,this.name=t.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=r(e.stdout||process.stdout),Object.assign(this,e),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=t.symbols,this.styles=t.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let t={...this};return t.status=this.status,t.buffer=Buffer.from(t.buffer),delete t.clone,t}set color(t){this._color=t}get color(){let t=this.prompt.styles;if(this.cancelled)return t.cancelled;if(this.submitted)return t.submitted;let e=this._color||t[this.status];return"function"==typeof e?e:t.pending}set loading(t){this._loading=t}get loading(){return"boolean"==typeof this._loading?this._loading:!!this.loadingChoices&&"choices"}get status(){return this.cancelled?"cancelled":this.submitted?"submitted":"pending"}}},9217:(t,e,s)=>{"use strict";const i=s(3546),r=s(730),n={default:r.noop,noop:r.noop,set inverse(t){this._inverse=t},get inverse(){return this._inverse||i.inverse(this.primary)},set complement(t){this._complement=t},get complement(){return this._complement||i.complement(this.primary)},primary:r.cyan,success:r.green,danger:r.magenta,strong:r.bold,warning:r.yellow,muted:r.dim,disabled:r.gray,dark:r.dim.gray,underline:r.underline,set info(t){this._info=t},get info(){return this._info||this.primary},set em(t){this._em=t},get em(){return this._em||this.primary.underline},set heading(t){this._heading=t},get heading(){return this._heading||this.muted.underline},set pending(t){this._pending=t},get pending(){return this._pending||this.primary},set submitted(t){this._submitted=t},get submitted(){return this._submitted||this.success},set cancelled(t){this._cancelled=t},get cancelled(){return this._cancelled||this.danger},set typing(t){this._typing=t},get typing(){return this._typing||this.dim},set placeholder(t){this._placeholder=t},get placeholder(){return this._placeholder||this.primary.dim},set highlight(t){this._highlight=t},get highlight(){return this._highlight||this.inverse},merge:(t={})=>{t.styles&&"boolean"==typeof t.styles.enabled&&(r.enabled=t.styles.enabled),t.styles&&"boolean"==typeof t.styles.visible&&(r.visible=t.styles.visible);let e=i.merge({},n,t.styles);delete e.merge;for(let t of Object.keys(r))e.hasOwnProperty(t)||Reflect.defineProperty(e,t,{get:()=>r[t]});for(let t of Object.keys(r.styles))e.hasOwnProperty(t)||Reflect.defineProperty(e,t,{get:()=>r[t]});return e}};t.exports=n},4739:(t,e,s)=>{"use strict";const i="win32"===process.platform,r=s(730),n=s(3546),o={...r.symbols,upDownDoubleArrow:"â‡•",upDownDoubleArrow2:"â¬",upDownArrow:"â†•",asterisk:"*",asterism:"â‚",bulletWhite:"â—¦",electricArrow:"âŒ",ellipsisLarge:"â‹¯",ellipsisSmall:"â€¦",fullBlock:"â–ˆ",identicalTo:"â‰¡",indicator:r.symbols.check,leftAngle:"â€¹",mark:"â€»",minus:"âˆ’",multiplication:"Ã—",obelus:"Ã·",percent:"%",pilcrow:"Â¶",pilcrow2:"â¡",pencilUpRight:"âœ",pencilDownRight:"âœŽ",pencilRight:"âœ",plus:"+",plusMinus:"Â±",pointRight:"â˜ž",rightAngle:"â€º",section:"Â§",hexagon:{off:"â¬¡",on:"â¬¢",disabled:"â¬¢"},ballot:{on:"â˜‘",off:"â˜",disabled:"â˜’"},stars:{on:"â˜…",off:"â˜†",disabled:"â˜†"},folder:{on:"â–¼",off:"â–¶",disabled:"â–¶"},prefix:{pending:r.symbols.question,submitted:r.symbols.check,cancelled:r.symbols.cross},separator:{pending:r.symbols.pointerSmall,submitted:r.symbols.middot,cancelled:r.symbols.middot},radio:{off:i?"( )":"â—¯",on:i?"(*)":"â—‰",disabled:i?"(|)":"â’¾"},numbers:["â“ª","â‘ ","â‘¡","â‘¢","â‘£","â‘¤","â‘¥","â‘¦","â‘§","â‘¨","â‘©","â‘ª","â‘«","â‘¬","â‘­","â‘®","â‘¯","â‘°","â‘±","â‘²","â‘³","ã‰‘","ã‰’","ã‰“","ã‰”","ã‰•","ã‰–","ã‰—","ã‰˜","ã‰™","ã‰š","ã‰›","ã‰œ","ã‰","ã‰ž","ã‰Ÿ","ãŠ±","ãŠ²","ãŠ³","ãŠ´","ãŠµ","ãŠ¶","ãŠ·","ãŠ¸","ãŠ¹","ãŠº","ãŠ»","ãŠ¼","ãŠ½","ãŠ¾","ãŠ¿"]};o.merge=t=>{let e=n.merge({},r.symbols,o,t.symbols);return delete e.merge,e},t.exports=o},9227:(t,e,s)=>{"use strict";const i=s(9217),r=s(4739),n=s(3546);t.exports=t=>{t.options=n.merge({},t.options.theme,t.options),t.symbols=r.merge(t.options),t.styles=i.merge(t.options)}},3940:t=>{"use strict";function e(t,e,s={}){let i=t.timers[e]={name:e,start:Date.now(),ms:0,tick:0},r=s.interval||120;i.frames=s.frames||[],i.loading=!0;let n=setInterval((()=>{i.ms=Date.now()-i.start,i.tick++,t.render()}),r);return i.stop=()=>{i.loading=!1,clearInterval(n)},Reflect.defineProperty(i,"interval",{value:n}),t.once("close",(()=>i.stop())),i.stop}t.exports=t=>{t.timers=t.timers||{};let s=t.options.timers;if(s)for(let i of Object.keys(s)){let r=s[i];"number"==typeof r&&(r={interval:r}),e(t,i,r)}}},8575:(t,e,s)=>{"use strict";const i=s(730),r=s(232),n=s(1502),o=s(3546),{reorder:a,scrollUp:l,scrollDown:h,isObject:u,swap:c}=o;function p(t,e){if(e instanceof Promise)return e;if("function"==typeof e){if(o.isAsyncFn(e))return e;e=e.call(t,t)}for(let s of e){if(Array.isArray(s.choices)){let e=s.choices.filter((e=>!t.isDisabled(e)));s.enabled=e.every((t=>!0===t.enabled))}!0===t.isDisabled(s)&&delete s.enabled}return e}t.exports=class extends r{constructor(t){super(t),this.cursorHide(),this.maxSelected=t.maxSelected||1/0,this.multiple=t.multiple||!1,this.initial=t.initial||0,this.delay=t.delay||0,this.longest=0,this.num=""}async initialize(){"function"==typeof this.options.initial&&(this.initial=await this.options.initial.call(this)),await this.reset(!0),await super.initialize()}async reset(){let{choices:t,initial:e,autofocus:s,suggest:i}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(t)),this.choices.forEach((t=>t.enabled=!1)),"function"!=typeof i&&0===this.selectable.length)throw new Error("At least one choice must be selectable");u(e)&&(e=Object.keys(e)),Array.isArray(e)?(null!=s&&(this.index=this.findIndex(s)),e.forEach((t=>this.enable(this.find(t)))),await this.render()):(null!=s&&(e=s),"string"==typeof e&&(e=this.findIndex(e)),"number"==typeof e&&e>-1&&(this.index=Math.max(0,Math.min(e,this.choices.length)),this.enable(this.find(this.index)))),this.isDisabled(this.focused)&&await this.down()}async toChoices(t,e){this.state.loadingChoices=!0;let s=[],i=0,r=async(t,e)=>{"function"==typeof t&&(t=await t.call(this)),t instanceof Promise&&(t=await t);for(let n=0;n<t.length;n++){let o=t[n]=await this.toChoice(t[n],i++,e);s.push(o),o.choices&&await r(o.choices,o)}return s};return r(t,e).then((t=>(this.state.loadingChoices=!1,t)))}async toChoice(t,e,s){if("function"==typeof t&&(t=await t.call(this,this)),t instanceof Promise&&(t=await t),"string"==typeof t&&(t={name:t}),t.normalized)return t;t.normalized=!0;let r=t.value,a=n(t.role,this.options);if("string"!=typeof(t=a(this,t)).disabled||t.hint||(t.hint=t.disabled,t.disabled=!0),!0===t.disabled&&null==t.hint&&(t.hint="(disabled)"),null!=t.index)return t;t.name=t.name||t.key||t.title||t.value||t.message,t.message=t.message||t.name||"",t.value=[t.value,t.name].find(this.isValue.bind(this)),t.input="",t.index=e,t.cursor=0,o.define(t,"parent",s),t.level=s?s.level+1:1,null==t.indent&&(t.indent=s?s.indent+"  ":t.indent||""),t.path=s?s.path+"."+t.name:t.name,t.enabled=!(!this.multiple||this.isDisabled(t)||!t.enabled&&!this.isSelected(t)),this.isDisabled(t)||(this.longest=Math.max(this.longest,i.unstyle(t.message).length));let l={...t};return t.reset=(e=l.input,s=l.value)=>{for(let e of Object.keys(l))t[e]=l[e];t.input=e,t.value=s},null==r&&"function"==typeof t.initial&&(t.input=await t.initial.call(this,this.state,t,e)),t}async onChoice(t,e){this.emit("choice",t,e,this),"function"==typeof t.onChoice&&await t.onChoice.call(this,this.state,t,e)}async addChoice(t,e,s){let i=await this.toChoice(t,e,s);return this.choices.push(i),this.index=this.choices.length-1,this.limit=this.choices.length,i}async newItem(t,e,s){let i={name:"New choice name?",editable:!0,newChoice:!0,...t},r=await this.addChoice(i,e,s);return r.updateChoice=()=>{delete r.newChoice,r.name=r.message=r.input,r.input="",r.cursor=0},this.render()}indent(t){return null==t.indent?t.level>1?"  ".repeat(t.level-1):"":t.indent}dispatch(t,e){if(this.multiple&&this[e.name])return this[e.name]();this.alert()}focus(t,e){return"boolean"!=typeof e&&(e=t.enabled),e&&!t.enabled&&this.selected.length>=this.maxSelected?this.alert():(this.index=t.index,t.enabled=e&&!this.isDisabled(t),t)}space(){return this.multiple?(this.toggle(this.focused),this.render()):this.alert()}a(){if(this.maxSelected<this.choices.length)return this.alert();let t=this.selectable.every((t=>t.enabled));return this.choices.forEach((e=>e.enabled=!t)),this.render()}i(){return this.choices.length-this.selected.length>this.maxSelected?this.alert():(this.choices.forEach((t=>t.enabled=!t.enabled)),this.render())}g(t=this.focused){return this.choices.some((t=>!!t.parent))?(this.toggle(t.parent&&!t.choices?t.parent:t),this.render()):this.a()}toggle(t,e){if(!t.enabled&&this.selected.length>=this.maxSelected)return this.alert();"boolean"!=typeof e&&(e=!t.enabled),t.enabled=e,t.choices&&t.choices.forEach((t=>this.toggle(t,e)));let s=t.parent;for(;s;){let t=s.choices.filter((t=>this.isDisabled(t)));s.enabled=t.every((t=>!0===t.enabled)),s=s.parent}return p(this,this.choices),this.emit("toggle",t,this),t}enable(t){return this.selected.length>=this.maxSelected?this.alert():(t.enabled=!this.isDisabled(t),t.choices&&t.choices.forEach(this.enable.bind(this)),t)}disable(t){return t.enabled=!1,t.choices&&t.choices.forEach(this.disable.bind(this)),t}number(t){this.num+=t;let e=t=>{let e=Number(t);if(e>this.choices.length-1)return this.alert();let s=this.focused,i=this.choices.find((t=>e===t.index));if(!i.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(-1===this.visible.indexOf(i)){let t=a(this.choices),e=t.indexOf(i);if(s.index>e){let s=t.slice(e,e+this.limit),i=t.filter((t=>!s.includes(t)));this.choices=s.concat(i)}else{let s=e-this.limit+1;this.choices=t.slice(s).concat(t.slice(0,s))}}return this.index=this.choices.indexOf(i),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise((t=>{let s=this.choices.length,i=this.num,r=(s=!1,r)=>{clearTimeout(this.numberTimeout),s&&(r=e(i)),this.num="",t(r)};return"0"===i||1===i.length&&Number(i+"0")>s?r(!0):Number(i)>s?r(!1,this.alert()):void(this.numberTimeout=setTimeout((()=>r(!0)),this.delay))}))}home(){return this.choices=a(this.choices),this.index=0,this.render()}end(){let t=this.choices.length-this.limit,e=a(this.choices);return this.choices=e.slice(t).concat(e.slice(0,t)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){return this.visible.length<=1?this.alert():this.up()}next(){return this.visible.length<=1?this.alert():this.down()}right(){return this.cursor>=this.input.length?this.alert():(this.cursor++,this.render())}left(){return this.cursor<=0?this.alert():(this.cursor--,this.render())}up(){let t=this.choices.length,e=this.visible.length,s=this.index;return!1===this.options.scroll&&0===s?this.alert():t>e&&0===s?this.scrollUp():(this.index=(s-1%t+t)%t,this.isDisabled()?this.up():this.render())}down(){let t=this.choices.length,e=this.visible.length,s=this.index;return!1===this.options.scroll&&s===e-1?this.alert():t>e&&s===e-1?this.scrollDown():(this.index=(s+1)%t,this.isDisabled()?this.down():this.render())}scrollUp(t=0){return this.choices=l(this.choices),this.index=t,this.isDisabled()?this.up():this.render()}scrollDown(t=this.visible.length-1){return this.choices=h(this.choices),this.index=t,this.isDisabled()?this.down():this.render()}async shiftUp(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index-1),await this.up(),void(this.sorting=!1)):this.scrollUp(this.index)}async shiftDown(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index+1),await this.down(),void(this.sorting=!1)):this.scrollDown(this.index)}pageUp(){return this.visible.length<=1?this.alert():(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled()?this.up():this.render())}pageDown(){return this.visible.length>=this.choices.length?this.alert():(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled()?this.down():this.render())}swap(t){c(this.choices,this.index,t)}isDisabled(t=this.focused){return!(!t||!["disabled","collapsed","hidden","completing","readonly"].some((e=>!0===t[e])))||t&&"heading"===t.role}isEnabled(t=this.focused){if(Array.isArray(t))return t.every((t=>this.isEnabled(t)));if(t.choices){let e=t.choices.filter((t=>!this.isDisabled(t)));return t.enabled&&e.every((t=>this.isEnabled(t)))}return t.enabled&&!this.isDisabled(t)}isChoice(t,e){return t.name===e||t.index===Number(e)}isSelected(t){return Array.isArray(this.initial)?this.initial.some((e=>this.isChoice(t,e))):this.isChoice(t,this.initial)}map(t=[],e="value"){return[].concat(t||[]).reduce(((t,s)=>(t[s]=this.find(s,e),t)),{})}filter(t,e){let s="function"==typeof t?t:(e,s)=>[e.name,s].includes(t),i=(this.options.multiple?this.state._choices:this.choices).filter(s);return e?i.map((t=>t[e])):i}find(t,e){if(u(t))return e?t[e]:t;let s="function"==typeof t?t:(e,s)=>[e.name,s].includes(t),i=this.choices.find(s);return i?e?i[e]:i:void 0}findIndex(t){return this.choices.indexOf(this.find(t))}async submit(){let t=this.focused;if(!t)return this.alert();if(t.newChoice)return t.input?(t.updateChoice(),this.render()):this.alert();if(this.choices.some((t=>t.newChoice)))return this.alert();let{reorder:e,sort:s}=this.options,i=!0===this.multiple,r=this.selected;return void 0===r?this.alert():(Array.isArray(r)&&!1!==e&&!0!==s&&(r=o.reorder(r)),this.value=i?r.map((t=>t.name)):r.name,super.submit())}set choices(t=[]){this.state._choices=this.state._choices||[],this.state.choices=t;for(let e of t)this.state._choices.some((t=>t.name===e.name))||this.state._choices.push(e);if(!this._initial&&this.options.initial){this._initial=!0;let t=this.initial;if("string"==typeof t||"number"==typeof t){let e=this.find(t);e&&(this.initial=e.index,this.focus(e,!0))}}}get choices(){return p(this,this.state.choices||[])}set visible(t){this.state.visible=t}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(t){this.state.limit=t}get limit(){let{state:t,options:e,choices:s}=this,i=t.limit||this._limit||e.limit||s.length;return Math.min(i,this.height)}set value(t){super.value=t}get value(){return"string"!=typeof super.value&&super.value===this.initial?this.input:super.value}set index(t){this.state.index=t}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let t=this.choices[this.index];return t&&this.state.submitted&&!0!==this.multiple&&(t.enabled=!0),t}get selectable(){return this.choices.filter((t=>!this.isDisabled(t)))}get selected(){return this.multiple?this.enabled:this.focused}}},6926:(t,e,s)=>{"use strict";const i=s(1826),r=()=>{throw new Error("expected prompt to have a custom authenticate method")},n=(t=r)=>class extends i{constructor(t){super(t)}async submit(){this.value=await t.call(this,this.values,this.state),super.base.submit.call(this)}static create(t){return n(t)}};t.exports=n()},3838:(t,e,s)=>{"use strict";const i=s(232),{isPrimitive:r,hasColor:n}=s(3546);t.exports=class extends i{constructor(t){super(t),this.cursorHide()}async initialize(){let t=await this.resolve(this.initial,this.state);this.input=await this.cast(t),await super.initialize()}dispatch(t){return this.isValue(t)?(this.input=t,this.submit()):this.alert()}format(t){let{styles:e,state:s}=this;return s.submitted?e.success(t):e.primary(t)}cast(t){return this.isTrue(t)}isTrue(t){return/^[ty1]/i.test(t)}isFalse(t){return/^[fn0]/i.test(t)}isValue(t){return r(t)&&(this.isTrue(t)||this.isFalse(t))}async hint(){if("pending"===this.state.status){let t=await this.element("hint");return n(t)?t:this.styles.muted(t)}}async render(){let{input:t,size:e}=this.state,s=await this.prefix(),i=await this.separator(),r=[s,await this.message(),this.styles.muted(this.default),i].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header(),o=this.value=this.cast(t),a=await this.format(o),l=await this.error()||await this.hint(),h=await this.footer();l&&!r.includes(l)&&(a+=" "+l),r+=" "+a,this.clear(e),this.write([n,r,h].filter(Boolean).join("\n")),this.restore()}set value(t){super.value=t}get value(){return this.cast(super.value)}}},9920:(t,e,s)=>{t.exports={ArrayPrompt:s(8575),AuthPrompt:s(6926),BooleanPrompt:s(3838),NumberPrompt:s(5376),StringPrompt:s(3391)}},5376:(t,e,s)=>{"use strict";const i=s(3391);t.exports=class extends i{constructor(t={}){super({style:"number",...t}),this.min=this.isValue(t.min)?this.toNumber(t.min):-1/0,this.max=this.isValue(t.max)?this.toNumber(t.max):1/0,this.delay=null!=t.delay?t.delay:1e3,this.float=!1!==t.float,this.round=!0===t.round||!1===t.float,this.major=t.major||10,this.minor=t.minor||1,this.initial=null!=t.initial?t.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(t){return!/[-+.]/.test(t)||"."===t&&this.input.includes(".")?this.alert("invalid number"):super.append(t)}number(t){return super.append(t)}next(){return this.input&&this.input!==this.initial?this.alert():this.isValue(this.initial)?(this.input=this.initial,this.cursor=String(this.initial).length,this.render()):this.alert()}up(t){let e=t||this.minor,s=this.toNumber(this.input);return s>this.max+e?this.alert():(this.input=`${s+e}`,this.render())}down(t){let e=t||this.minor,s=this.toNumber(this.input);return s<this.min-e?this.alert():(this.input=""+(s-e),this.render())}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(t=this.input){return"function"==typeof this.options.format?this.options.format.call(this,t):this.styles.info(t)}toNumber(t=""){return this.float?+t:Math.round(+t)}isValue(t){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(t)}submit(){let t=[this.input,this.initial].find((t=>this.isValue(t)));return this.value=this.toNumber(t||0),super.submit()}}},3391:(t,e,s)=>{"use strict";const i=s(232),r=s(2786),{isPrimitive:n}=s(3546);t.exports=class extends i{constructor(t){super(t),this.initial=n(this.initial)?String(this.initial):"",this.initial&&this.cursorHide(),this.state.prevCursor=0,this.state.clipboard=[]}async keypress(t,e={}){let s=this.state.prevKeypress;return this.state.prevKeypress=e,!0!==this.options.multiline||"return"!==e.name||s&&"return"===s.name?super.keypress(t,e):this.append("\n",e)}moveCursor(t){this.cursor+=t}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(t,e){if(!t||e.ctrl||e.code)return this.alert();this.append(t)}append(t){let{cursor:e,input:s}=this.state;this.input=`${s}`.slice(0,e)+t+`${s}`.slice(e),this.moveCursor(String(t).length),this.render()}insert(t){this.append(t)}delete(){let{cursor:t,input:e}=this.state;if(t<=0)return this.alert();this.input=`${e}`.slice(0,t-1)+`${e}`.slice(t),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:t,input:e}=this.state;if(void 0===e[t])return this.alert();this.input=`${e}`.slice(0,t)+`${e}`.slice(t+1),this.render()}cutForward(){let t=this.cursor;if(this.input.length<=t)return this.alert();this.state.clipboard.push(this.input.slice(t)),this.input=this.input.slice(0,t),this.render()}cutLeft(){let t=this.cursor;if(0===t)return this.alert();let e=this.input.slice(0,t),s=this.input.slice(t),i=e.split(" ");this.state.clipboard.push(i.pop()),this.input=i.join(" "),this.cursor=this.input.length,this.input+=s,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){this.state.prevCursor?(this.cursor=this.state.prevCursor,this.state.prevCursor=0):(this.state.prevCursor=this.cursor,this.cursor=0),this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let t=null!=this.initial?String(this.initial):"";if(!t||!t.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){return this.cursor>=this.input.length?this.alert():(this.moveCursor(1),this.render())}left(){return this.cursor<=0?this.alert():(this.moveCursor(-1),this.render())}isValue(t){return!!t}async format(t=this.value){let e=await this.resolve(this.initial,this.state);return this.state.submitted?this.styles.submitted(t||e):r(this,{input:t,initial:e,pos:this.cursor})}async render(){let t=this.state.size,e=await this.prefix(),s=await this.separator(),i=[e,await this.message(),s].filter(Boolean).join(" ");this.state.prompt=i;let r=await this.header(),n=await this.format(),o=await this.error()||await this.hint(),a=await this.footer();o&&!n.includes(o)&&(n+=" "+o),i+=" "+n,this.clear(t),this.write([r,i,a].filter(Boolean).join("\n")),this.restore()}}},3546:(t,e,s)=>{"use strict";const i=Object.prototype.toString,r=s(730);let n=!1,o=[];const a={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};e.longest=(t,e)=>t.reduce(((t,s)=>Math.max(t,e?s[e].length:s.length)),0),e.hasColor=t=>!!t&&r.hasColor(t);const l=e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t);e.nativeType=t=>i.call(t).slice(8,-1).toLowerCase().replace(/\s/g,""),e.isAsyncFn=t=>"asyncfunction"===e.nativeType(t),e.isPrimitive=t=>null!=t&&"object"!=typeof t&&"function"!=typeof t,e.resolve=(t,e,...s)=>"function"==typeof e?e.call(t,...s):e,e.scrollDown=(t=[])=>[...t.slice(1),t[0]],e.scrollUp=(t=[])=>[t.pop(),...t],e.reorder=(t=[])=>{let e=t.slice();return e.sort(((t,e)=>t.index>e.index?1:t.index<e.index?-1:0)),e},e.swap=(t,e,s)=>{let i=t.length,r=s===i?0:s<0?i-1:s,n=t[e];t[e]=t[r],t[r]=n},e.width=(t,e=80)=>{let s=t&&t.columns?t.columns:e;return t&&"function"==typeof t.getWindowSize&&(s=t.getWindowSize()[0]),"win32"===process.platform?s-1:s},e.height=(t,e=20)=>{let s=t&&t.rows?t.rows:e;return t&&"function"==typeof t.getWindowSize&&(s=t.getWindowSize()[1]),s},e.wordWrap=(t,e={})=>{if(!t)return t;"number"==typeof e&&(e={width:e});let{indent:s="",newline:i="\n"+s,width:r=80}=e,n=(i+s).match(/[^\S\n]/g)||[];r-=n.length;let o=`.{1,${r}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,a=t.trim(),l=new RegExp(o,"g"),h=a.match(l)||[];return h=h.map((t=>t.replace(/\n$/,""))),e.padEnd&&(h=h.map((t=>t.padEnd(r," ")))),e.padStart&&(h=h.map((t=>t.padStart(r," ")))),s+h.join(i)},e.unmute=t=>{let e=t.stack.find((t=>r.keys.color.includes(t)));return e?r[e]:t.stack.find((t=>"bg"===t.slice(2)))?r[e.slice(2)]:t=>t},e.pascal=t=>t?t[0].toUpperCase()+t.slice(1):"",e.inverse=t=>{if(!t||!t.stack)return t;let s=t.stack.find((t=>r.keys.color.includes(t)));if(s){let i=r["bg"+e.pascal(s)];return i?i.black:t}let i=t.stack.find((t=>"bg"===t.slice(0,2)));return i?r[i.slice(2).toLowerCase()]||t:r.none},e.complement=t=>{if(!t||!t.stack)return t;let s=t.stack.find((t=>r.keys.color.includes(t))),i=t.stack.find((t=>"bg"===t.slice(0,2)));if(s&&!i)return r[a[s]||s];if(i){let s=i.slice(2).toLowerCase(),n=a[s];return n&&r["bg"+e.pascal(n)]||t}return r.none},e.meridiem=t=>{let e=t.getHours(),s=t.getMinutes(),i=e>=12?"pm":"am";return e%=12,(0===e?12:e)+":"+(s<10?"0"+s:s)+" "+i},e.set=(t={},s="",i)=>s.split(".").reduce(((t,s,r,n)=>{let o=n.length-1>r?t[s]||{}:i;return!e.isObject(o)&&r<n.length-1&&(o={}),t[s]=o}),t),e.get=(t={},e="",s)=>{let i=null==t[e]?e.split(".").reduce(((t,e)=>t&&t[e]),t):t[e];return null==i?s:i},e.mixin=(t,s)=>{if(!l(t))return s;if(!l(s))return t;for(let i of Object.keys(s)){let r=Object.getOwnPropertyDescriptor(s,i);if(r.hasOwnProperty("value"))if(t.hasOwnProperty(i)&&l(r.value)){let n=Object.getOwnPropertyDescriptor(t,i);l(n.value)?t[i]=e.merge({},t[i],s[i]):Reflect.defineProperty(t,i,r)}else Reflect.defineProperty(t,i,r);else Reflect.defineProperty(t,i,r)}return t},e.merge=(...t)=>{let s={};for(let i of t)e.mixin(s,i);return s},e.mixinEmitter=(t,s)=>{let i=s.constructor.prototype;for(let r of Object.keys(i)){let n=i[r];"function"==typeof n?e.define(t,r,n.bind(s)):e.define(t,r,n)}},e.onExit=t=>{const e=(t,e)=>{n||(n=!0,o.forEach((t=>t())),!0===t&&process.exit(128+e))};0===o.length&&(process.once("SIGTERM",e.bind(null,!0,15)),process.once("SIGINT",e.bind(null,!0,2)),process.once("exit",e)),o.push(t)},e.define=(t,e,s)=>{Reflect.defineProperty(t,e,{value:s})},e.defineExport=(t,e,s)=>{let i;Reflect.defineProperty(t,e,{enumerable:!0,configurable:!0,set(t){i=t},get:()=>i?i():s()})}},7187:t=>{"use strict";var e,s="object"==typeof Reflect?Reflect:null,i=s&&"function"==typeof s.apply?s.apply:function(t,e,s){return Function.prototype.apply.call(t,e,s)};e=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function n(){n.init.call(this)}t.exports=n,t.exports.once=function(t,e){return new Promise((function(s,i){function r(s){t.removeListener(e,n),i(s)}function n(){"function"==typeof t.removeListener&&t.removeListener("error",r),s([].slice.call(arguments))}f(t,e,n,{once:!0}),"error"!==e&&function(t,e,s){"function"==typeof t.on&&f(t,"error",e,{once:!0})}(t,r)}))},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?n.defaultMaxListeners:t._maxListeners}function h(t,e,s,i){var r,n,o,h;if(a(s),void 0===(n=t._events)?(n=t._events=Object.create(null),t._eventsCount=0):(void 0!==n.newListener&&(t.emit("newListener",e,s.listener?s.listener:s),n=t._events),o=n[e]),void 0===o)o=n[e]=s,++t._eventsCount;else if("function"==typeof o?o=n[e]=i?[s,o]:[o,s]:i?o.unshift(s):o.push(s),(r=l(t))>0&&o.length>r&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,h=u,console&&console.warn&&console.warn(h)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,s){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:s},r=u.bind(i);return r.listener=s,i.wrapFn=r,r}function p(t,e,s){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?s?[r.listener||r]:[r]:s?function(t){for(var e=new Array(t.length),s=0;s<e.length;++s)e[s]=t[s].listener||t[s];return e}(r):m(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var s=e[t];if("function"==typeof s)return 1;if(void 0!==s)return s.length}return 0}function m(t,e){for(var s=new Array(e),i=0;i<e;++i)s[i]=t[i];return s}function f(t,e,s,i){if("function"==typeof t.on)i.once?t.once(e,s):t.on(e,s);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(n){i.once&&t.removeEventListener(e,r),s(n)}))}}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},n.prototype.getMaxListeners=function(){return l(this)},n.prototype.emit=function(t){for(var e=[],s=1;s<arguments.length;s++)e.push(arguments[s]);var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=n[t];if(void 0===l)return!1;if("function"==typeof l)i(l,this,e);else{var h=l.length,u=m(l,h);for(s=0;s<h;++s)i(u[s],this,e)}return!0},n.prototype.addListener=function(t,e){return h(this,t,e,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(t,e){return h(this,t,e,!0)},n.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},n.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},n.prototype.removeListener=function(t,e){var s,i,r,n,o;if(a(e),void 0===(i=this._events))return this;if(void 0===(s=i[t]))return this;if(s===e||s.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,s.listener||e));else if("function"!=typeof s){for(r=-1,n=s.length-1;n>=0;n--)if(s[n]===e||s[n].listener===e){o=s[n].listener,r=n;break}if(r<0)return this;0===r?s.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(s,r),1===s.length&&(i[t]=s[0]),void 0!==i.removeListener&&this.emit("removeListener",t,o||e)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(t){var e,s,i;if(void 0===(s=this._events))return this;if(void 0===s.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete s[t]),this;if(0===arguments.length){var r,n=Object.keys(s);for(i=0;i<n.length;++i)"removeListener"!==(r=n[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=s[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},n.prototype.listeners=function(t){return p(this,t,!0)},n.prototype.rawListeners=function(t){return p(this,t,!1)},n.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},n.prototype.listenerCount=d,n.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},9593:(t,e,s)=>{"use strict";const i=s(4411),r=Symbol("max"),n=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),h=Symbol("dispose"),u=Symbol("noDisposeOnSet"),c=Symbol("lruList"),p=Symbol("cache"),d=Symbol("updateAgeOnGet"),m=()=>1,f=(t,e,s)=>{const i=t[p].get(e);if(i){const e=i.value;if(g(t,e)){if(v(t,i),!t[a])return}else s&&(t[d]&&(i.value.now=Date.now()),t[c].unshiftNode(i));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[l])return!1;const s=Date.now()-e.now;return e.maxAge?s>e.maxAge:t[l]&&s>t[l]},y=t=>{if(t[n]>t[r])for(let e=t[c].tail;t[n]>t[r]&&null!==e;){const s=e.prev;v(t,e),e=s}},v=(t,e)=>{if(e){const s=e.value;t[h]&&t[h](s.key,s.value),t[n]-=s.length,t[p].delete(s.key),t[c].removeNode(e)}};class w{constructor(t,e,s,i,r){this.key=t,this.value=e,this.length=s,this.now=i,this.maxAge=r||0}}const b=(t,e,s,i)=>{let r=s.value;g(t,r)&&(v(t,s),t[a]||(r=void 0)),r&&e.call(i,r.value,r.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[r]=t.max||1/0;const e=t.length||m;if(this[o]="function"!=typeof e?m:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[h]=t.dispose,this[u]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[r]=t||1/0,y(this)}get max(){return this[r]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[l]=t,y(this)}get maxAge(){return this[l]}set lengthCalculator(t){"function"!=typeof t&&(t=m),t!==this[o]&&(this[o]=t,this[n]=0,this[c].forEach((t=>{t.length=this[o](t.value,t.key),this[n]+=t.length}))),y(this)}get lengthCalculator(){return this[o]}get length(){return this[n]}get itemCount(){return this[c].length}rforEach(t,e){e=e||this;for(let s=this[c].tail;null!==s;){const i=s.prev;b(this,t,s,e),s=i}}forEach(t,e){e=e||this;for(let s=this[c].head;null!==s;){const i=s.next;b(this,t,s,e),s=i}}keys(){return this[c].toArray().map((t=>t.key))}values(){return this[c].toArray().map((t=>t.value))}reset(){this[h]&&this[c]&&this[c].length&&this[c].forEach((t=>this[h](t.key,t.value))),this[p]=new Map,this[c]=new i,this[n]=0}dump(){return this[c].map((t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[c]}set(t,e,s){if((s=s||this[l])&&"number"!=typeof s)throw new TypeError("maxAge must be a number");const i=s?Date.now():0,a=this[o](e,t);if(this[p].has(t)){if(a>this[r])return v(this,this[p].get(t)),!1;const o=this[p].get(t).value;return this[h]&&(this[u]||this[h](t,o.value)),o.now=i,o.maxAge=s,o.value=e,this[n]+=a-o.length,o.length=a,this.get(t),y(this),!0}const d=new w(t,e,a,i,s);return d.length>this[r]?(this[h]&&this[h](t,e),!1):(this[n]+=d.length,this[c].unshift(d),this[p].set(t,this[c].head),y(this),!0)}has(t){if(!this[p].has(t))return!1;const e=this[p].get(t).value;return!g(this,e)}get(t){return f(this,t,!0)}peek(t){return f(this,t,!1)}pop(){const t=this[c].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[p].get(t))}load(t){this.reset();const e=Date.now();for(let s=t.length-1;s>=0;s--){const i=t[s],r=i.e||0;if(0===r)this.set(i.k,i.v);else{const t=r-e;t>0&&this.set(i.k,i.v,t)}}}prune(){this[p].forEach(((t,e)=>f(this,e,!1)))}}},2257:(t,e,s)=>{const i=Symbol("SemVer ANY");class r{static get ANY(){return i}constructor(t,e){if(e=n(e),t instanceof r){if(t.loose===!!e.loose)return t;t=t.value}h("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===i?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(t){const e=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],s=t.match(e);if(!s)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==s[1]?s[1]:"","="===this.operator&&(this.operator=""),s[2]?this.semver=new u(s[2],this.options.loose):this.semver=i}toString(){return this.value}test(t){if(h("Comparator.test",t,this.options.loose),this.semver===i||t===i)return!0;if("string"==typeof t)try{t=new u(t,this.options)}catch(t){return!1}return l(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof r))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new c(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new c(this.value,e).test(t.semver);const s=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),n=this.semver.version===t.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=l(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),h=l(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return s||i||n&&o||a||h}}t.exports=r;const n=s(2893),{re:o,t:a}=s(5765),l=s(7539),h=s(4225),u=s(6376),c=s(6902)},6902:(t,e,s)=>{class i{constructor(t,e){if(e=n(e),t instanceof i)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new i(t.raw,e);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!m(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&f(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const e=`parseRange:${Object.keys(this.options).join(",")}:${t}`,s=r.get(e);if(s)return s;const i=this.options.loose,n=i?h[u.HYPHENRANGELOOSE]:h[u.HYPHENRANGE];t=t.replace(n,L(this.options.includePrerelease)),a("hyphen replace",t),t=t.replace(h[u.COMPARATORTRIM],c),a("comparator trim",t,h[u.COMPARATORTRIM]),t=(t=(t=t.replace(h[u.TILDETRIM],p)).replace(h[u.CARETTRIM],d)).split(/\s+/).join(" ");const l=i?h[u.COMPARATORLOOSE]:h[u.COMPARATOR],f=t.split(" ").map((t=>y(t,this.options))).join(" ").split(/\s+/).map((t=>I(t,this.options))).filter(this.options.loose?t=>!!t.match(l):()=>!0).map((t=>new o(t,this.options))),g=(f.length,new Map);for(const t of f){if(m(t))return[t];g.set(t.value,t)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return r.set(e,v),v}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Range is required");return this.set.some((s=>g(s,e)&&t.set.some((t=>g(t,e)&&s.every((s=>t.every((t=>s.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(C(this.set[e],t,this.options))return!0;return!1}}t.exports=i;const r=new(s(9593))({max:1e3}),n=s(2893),o=s(2257),a=s(4225),l=s(6376),{re:h,t:u,comparatorTrimReplace:c,tildeTrimReplace:p,caretTrimReplace:d}=s(5765),m=t=>"<0.0.0-0"===t.value,f=t=>""===t.value,g=(t,e)=>{let s=!0;const i=t.slice();let r=i.pop();for(;s&&i.length;)s=i.every((t=>r.intersects(t,e))),r=i.pop();return s},y=(t,e)=>(a("comp",t,e),t=E(t,e),a("caret",t),t=w(t,e),a("tildes",t),t=$(t,e),a("xrange",t),t=O(t,e),a("stars",t),t),v=t=>!t||"x"===t.toLowerCase()||"*"===t,w=(t,e)=>t.trim().split(/\s+/).map((t=>b(t,e))).join(" "),b=(t,e)=>{const s=e.loose?h[u.TILDELOOSE]:h[u.TILDE];return t.replace(s,((e,s,i,r,n)=>{let o;return a("tilde",t,e,s,i,r,n),v(s)?o="":v(i)?o=`>=${s}.0.0 <${+s+1}.0.0-0`:v(r)?o=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:n?(a("replaceTilde pr",n),o=`>=${s}.${i}.${r}-${n} <${s}.${+i+1}.0-0`):o=`>=${s}.${i}.${r} <${s}.${+i+1}.0-0`,a("tilde return",o),o}))},E=(t,e)=>t.trim().split(/\s+/).map((t=>x(t,e))).join(" "),x=(t,e)=>{a("caret",t,e);const s=e.loose?h[u.CARETLOOSE]:h[u.CARET],i=e.includePrerelease?"-0":"";return t.replace(s,((e,s,r,n,o)=>{let l;return a("caret",t,e,s,r,n,o),v(s)?l="":v(r)?l=`>=${s}.0.0${i} <${+s+1}.0.0-0`:v(n)?l="0"===s?`>=${s}.${r}.0${i} <${s}.${+r+1}.0-0`:`>=${s}.${r}.0${i} <${+s+1}.0.0-0`:o?(a("replaceCaret pr",o),l="0"===s?"0"===r?`>=${s}.${r}.${n}-${o} <${s}.${r}.${+n+1}-0`:`>=${s}.${r}.${n}-${o} <${s}.${+r+1}.0-0`:`>=${s}.${r}.${n}-${o} <${+s+1}.0.0-0`):(a("no pr"),l="0"===s?"0"===r?`>=${s}.${r}.${n}${i} <${s}.${r}.${+n+1}-0`:`>=${s}.${r}.${n}${i} <${s}.${+r+1}.0-0`:`>=${s}.${r}.${n} <${+s+1}.0.0-0`),a("caret return",l),l}))},$=(t,e)=>(a("replaceXRanges",t,e),t.split(/\s+/).map((t=>R(t,e))).join(" ")),R=(t,e)=>{t=t.trim();const s=e.loose?h[u.XRANGELOOSE]:h[u.XRANGE];return t.replace(s,((s,i,r,n,o,l)=>{a("xRange",t,s,i,r,n,o,l);const h=v(r),u=h||v(n),c=u||v(o),p=c;return"="===i&&p&&(i=""),l=e.includePrerelease?"-0":"",h?s=">"===i||"<"===i?"<0.0.0-0":"*":i&&p?(u&&(n=0),o=0,">"===i?(i=">=",u?(r=+r+1,n=0,o=0):(n=+n+1,o=0)):"<="===i&&(i="<",u?r=+r+1:n=+n+1),"<"===i&&(l="-0"),s=`${i+r}.${n}.${o}${l}`):u?s=`>=${r}.0.0${l} <${+r+1}.0.0-0`:c&&(s=`>=${r}.${n}.0${l} <${r}.${+n+1}.0-0`),a("xRange return",s),s}))},O=(t,e)=>(a("replaceStars",t,e),t.trim().replace(h[u.STAR],"")),I=(t,e)=>(a("replaceGTE0",t,e),t.trim().replace(h[e.includePrerelease?u.GTE0PRE:u.GTE0],"")),L=t=>(e,s,i,r,n,o,a,l,h,u,c,p,d)=>`${s=v(i)?"":v(r)?`>=${i}.0.0${t?"-0":""}`:v(n)?`>=${i}.${r}.0${t?"-0":""}`:o?`>=${s}`:`>=${s}${t?"-0":""}`} ${l=v(h)?"":v(u)?`<${+h+1}.0.0-0`:v(c)?`<${h}.${+u+1}.0-0`:p?`<=${h}.${u}.${c}-${p}`:t?`<${h}.${u}.${+c+1}-0`:`<=${l}`}`.trim(),C=(t,e,s)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!s.includePrerelease){for(let s=0;s<t.length;s++)if(a(t[s].semver),t[s].semver!==o.ANY&&t[s].semver.prerelease.length>0){const i=t[s].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}},6376:(t,e,s)=>{const i=s(4225),{MAX_LENGTH:r,MAX_SAFE_INTEGER:n}=s(3295),{re:o,t:a}=s(5765),l=s(2893),{compareIdentifiers:h}=s(6742);class u{constructor(t,e){if(e=l(e),t instanceof u){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid Version: ${t}`);if(t.length>r)throw new TypeError(`version is longer than ${r} characters`);i("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const s=t.trim().match(e.loose?o[a.LOOSE]:o[a.FULL]);if(!s)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<n)return e}return t})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(i("SemVer.compare",this.version,this.options,t),!(t instanceof u)){if("string"==typeof t&&t===this.version)return 0;t=new u(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof u||(t=new u(t,this.options)),h(this.major,t.major)||h(this.minor,t.minor)||h(this.patch,t.patch)}comparePre(t){if(t instanceof u||(t=new u(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const s=this.prerelease[e],r=t.prerelease[e];if(i("prerelease compare",e,s,r),void 0===s&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===s)return-1;if(s!==r)return h(s,r)}while(++e)}compareBuild(t){t instanceof u||(t=new u(t,this.options));let e=0;do{const s=this.build[e],r=t.build[e];if(i("prerelease compare",e,s,r),void 0===s&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===s)return-1;if(s!==r)return h(s,r)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}t.exports=u},3507:(t,e,s)=>{const i=s(3959);t.exports=(t,e)=>{const s=i(t.trim().replace(/^[=v]+/,""),e);return s?s.version:null}},7539:(t,e,s)=>{const i=s(8718),r=s(1194),n=s(1312),o=s(5903),a=s(1544),l=s(2056);t.exports=(t,e,s,h)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof s&&(s=s.version),t===s;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof s&&(s=s.version),t!==s;case"":case"=":case"==":return i(t,s,h);case"!=":return r(t,s,h);case">":return n(t,s,h);case">=":return o(t,s,h);case"<":return a(t,s,h);case"<=":return l(t,s,h);default:throw new TypeError(`Invalid operator: ${e}`)}}},9038:(t,e,s)=>{const i=s(6376),r=s(3959),{re:n,t:o}=s(5765);t.exports=(t,e)=>{if(t instanceof i)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let s=null;if((e=e||{}).rtl){let e;for(;(e=n[o.COERCERTL].exec(t))&&(!s||s.index+s[0].length!==t.length);)s&&e.index+e[0].length===s.index+s[0].length||(s=e),n[o.COERCERTL].lastIndex=e.index+e[1].length+e[2].length;n[o.COERCERTL].lastIndex=-1}else s=t.match(n[o.COERCE]);return null===s?null:r(`${s[2]}.${s[3]||"0"}.${s[4]||"0"}`,e)}},8880:(t,e,s)=>{const i=s(6376);t.exports=(t,e,s)=>{const r=new i(t,s),n=new i(e,s);return r.compare(n)||r.compareBuild(n)}},7880:(t,e,s)=>{const i=s(6269);t.exports=(t,e)=>i(t,e,!0)},6269:(t,e,s)=>{const i=s(6376);t.exports=(t,e,s)=>new i(t,s).compare(new i(e,s))},2378:(t,e,s)=>{const i=s(3959),r=s(8718);t.exports=(t,e)=>{if(r(t,e))return null;{const s=i(t),r=i(e),n=s.prerelease.length||r.prerelease.length,o=n?"pre":"",a=n?"prerelease":"";for(const t in s)if(("major"===t||"minor"===t||"patch"===t)&&s[t]!==r[t])return o+t;return a}}},8718:(t,e,s)=>{const i=s(6269);t.exports=(t,e,s)=>0===i(t,e,s)},1312:(t,e,s)=>{const i=s(6269);t.exports=(t,e,s)=>i(t,e,s)>0},5903:(t,e,s)=>{const i=s(6269);t.exports=(t,e,s)=>i(t,e,s)>=0},253:(t,e,s)=>{const i=s(6376);t.exports=(t,e,s,r)=>{"string"==typeof s&&(r=s,s=void 0);try{return new i(t,s).inc(e,r).version}catch(t){return null}}},1544:(t,e,s)=>{const i=s(6269);t.exports=(t,e,s)=>i(t,e,s)<0},2056:(t,e,s)=>{const i=s(6269);t.exports=(t,e,s)=>i(t,e,s)<=0},8679:(t,e,s)=>{const i=s(6376);t.exports=(t,e)=>new i(t,e).major},7789:(t,e,s)=>{const i=s(6376);t.exports=(t,e)=>new i(t,e).minor},1194:(t,e,s)=>{const i=s(6269);t.exports=(t,e,s)=>0!==i(t,e,s)},3959:(t,e,s)=>{const{MAX_LENGTH:i}=s(3295),{re:r,t:n}=s(5765),o=s(6376),a=s(2893);t.exports=(t,e)=>{if(e=a(e),t instanceof o)return t;if("string"!=typeof t)return null;if(t.length>i)return null;if(!(e.loose?r[n.LOOSE]:r[n.FULL]).test(t))return null;try{return new o(t,e)}catch(t){return null}}},2358:(t,e,s)=>{const i=s(6376);t.exports=(t,e)=>new i(t,e).patch},7559:(t,e,s)=>{const i=s(3959);t.exports=(t,e)=>{const s=i(t,e);return s&&s.prerelease.length?s.prerelease:null}},9795:(t,e,s)=>{const i=s(6269);t.exports=(t,e,s)=>i(e,t,s)},3657:(t,e,s)=>{const i=s(8880);t.exports=(t,e)=>t.sort(((t,s)=>i(s,t,e)))},5712:(t,e,s)=>{const i=s(6902);t.exports=(t,e,s)=>{try{e=new i(e,s)}catch(t){return!1}return e.test(t)}},1100:(t,e,s)=>{const i=s(8880);t.exports=(t,e)=>t.sort(((t,s)=>i(t,s,e)))},6397:(t,e,s)=>{const i=s(3959);t.exports=(t,e)=>{const s=i(t,e);return s?s.version:null}},1249:(t,e,s)=>{const i=s(5765);t.exports={re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:s(3295).SEMVER_SPEC_VERSION,SemVer:s(6376),compareIdentifiers:s(6742).compareIdentifiers,rcompareIdentifiers:s(6742).rcompareIdentifiers,parse:s(3959),valid:s(6397),clean:s(3507),inc:s(253),diff:s(2378),major:s(8679),minor:s(7789),patch:s(2358),prerelease:s(7559),compare:s(6269),rcompare:s(9795),compareLoose:s(7880),compareBuild:s(8880),sort:s(1100),rsort:s(3657),gt:s(1312),lt:s(1544),eq:s(8718),neq:s(1194),gte:s(5903),lte:s(2056),cmp:s(7539),coerce:s(9038),Comparator:s(2257),Range:s(6902),satisfies:s(5712),toComparators:s(1042),maxSatisfying:s(5775),minSatisfying:s(1657),minVersion:s(5316),validRange:s(9042),outside:s(6826),gtr:s(7606),ltr:s(32),intersects:s(2937),simplifyRange:s(7908),subset:s(799)}},3295:t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:e,MAX_SAFE_COMPONENT_LENGTH:16}},4225:t=>{const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=e},6742:t=>{const e=/^[0-9]+$/,s=(t,s)=>{const i=e.test(t),r=e.test(s);return i&&r&&(t=+t,s=+s),t===s?0:i&&!r?-1:r&&!i?1:t<s?-1:1};t.exports={compareIdentifiers:s,rcompareIdentifiers:(t,e)=>s(e,t)}},2893:t=>{const e=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:e.filter((e=>t[e])).reduce(((t,e)=>(t[e]=!0,t)),{}):{}},5765:(t,e,s)=>{const{MAX_SAFE_COMPONENT_LENGTH:i}=s(3295),r=s(4225),n=(e=t.exports={}).re=[],o=e.src=[],a=e.t={};let l=0;const h=(t,e,s)=>{const i=l++;r(i,e),a[t]=i,o[i]=e,n[i]=new RegExp(e,s?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),h("FULL",`^${o[a.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),h("LOOSE",`^${o[a.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`),h("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?(?:$|[^\\d])`),h("COERCERTL",o[a.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",h("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",h("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0.0.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},7606:(t,e,s)=>{const i=s(6826);t.exports=(t,e,s)=>i(t,e,">",s)},2937:(t,e,s)=>{const i=s(6902);t.exports=(t,e,s)=>(t=new i(t,s),e=new i(e,s),t.intersects(e))},32:(t,e,s)=>{const i=s(6826);t.exports=(t,e,s)=>i(t,e,"<",s)},5775:(t,e,s)=>{const i=s(6376),r=s(6902);t.exports=(t,e,s)=>{let n=null,o=null,a=null;try{a=new r(e,s)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(n&&-1!==o.compare(t)||(n=t,o=new i(n,s)))})),n}},1657:(t,e,s)=>{const i=s(6376),r=s(6902);t.exports=(t,e,s)=>{let n=null,o=null,a=null;try{a=new r(e,s)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(n&&1!==o.compare(t)||(n=t,o=new i(n,s)))})),n}},5316:(t,e,s)=>{const i=s(6376),r=s(6902),n=s(1312);t.exports=(t,e)=>{t=new r(t,e);let s=new i("0.0.0");if(t.test(s))return s;if(s=new i("0.0.0-0"),t.test(s))return s;s=null;for(let e=0;e<t.set.length;++e){const r=t.set[e];let o=null;r.forEach((t=>{const e=new i(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":o&&!n(e,o)||(o=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!o||s&&!n(s,o)||(s=o)}return s&&t.test(s)?s:null}},6826:(t,e,s)=>{const i=s(6376),r=s(2257),{ANY:n}=r,o=s(6902),a=s(5712),l=s(1312),h=s(1544),u=s(2056),c=s(5903);t.exports=(t,e,s,p)=>{let d,m,f,g,y;switch(t=new i(t,p),e=new o(e,p),s){case">":d=l,m=u,f=h,g=">",y=">=";break;case"<":d=h,m=c,f=l,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(t,e,p))return!1;for(let s=0;s<e.set.length;++s){const i=e.set[s];let o=null,a=null;if(i.forEach((t=>{t.semver===n&&(t=new r(">=0.0.0")),o=o||t,a=a||t,d(t.semver,o.semver,p)?o=t:f(t.semver,a.semver,p)&&(a=t)})),o.operator===g||o.operator===y)return!1;if((!a.operator||a.operator===g)&&m(t,a.semver))return!1;if(a.operator===y&&f(t,a.semver))return!1}return!0}},7908:(t,e,s)=>{const i=s(5712),r=s(6269);t.exports=(t,e,s)=>{const n=[];let o=null,a=null;const l=t.sort(((t,e)=>r(t,e,s)));for(const t of l)i(t,e,s)?(a=t,o||(o=t)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);const h=[];for(const[t,e]of n)t===e?h.push(t):e||t!==l[0]?e?t===l[0]?h.push(`<=${e}`):h.push(`${t} - ${e}`):h.push(`>=${t}`):h.push("*");const u=h.join(" || "),c="string"==typeof e.raw?e.raw:String(e);return u.length<c.length?u:e}},799:(t,e,s)=>{const i=s(6902),r=s(2257),{ANY:n}=r,o=s(5712),a=s(6269),l=(t,e,s)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===n){if(1===e.length&&e[0].semver===n)return!0;t=s.includePrerelease?[new r(">=0.0.0-0")]:[new r(">=0.0.0")]}if(1===e.length&&e[0].semver===n){if(s.includePrerelease)return!0;e=[new r(">=0.0.0")]}const i=new Set;let l,c,p,d,m,f,g;for(const e of t)">"===e.operator||">="===e.operator?l=h(l,e,s):"<"===e.operator||"<="===e.operator?c=u(c,e,s):i.add(e.semver);if(i.size>1)return null;if(l&&c){if(p=a(l.semver,c.semver,s),p>0)return null;if(0===p&&(">="!==l.operator||"<="!==c.operator))return null}for(const t of i){if(l&&!o(t,String(l),s))return null;if(c&&!o(t,String(c),s))return null;for(const i of e)if(!o(t,String(i),s))return!1;return!0}let y=!(!c||s.includePrerelease||!c.semver.prerelease.length)&&c.semver,v=!(!l||s.includePrerelease||!l.semver.prerelease.length)&&l.semver;y&&1===y.prerelease.length&&"<"===c.operator&&0===y.prerelease[0]&&(y=!1);for(const t of e){if(g=g||">"===t.operator||">="===t.operator,f=f||"<"===t.operator||"<="===t.operator,l)if(v&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===v.major&&t.semver.minor===v.minor&&t.semver.patch===v.patch&&(v=!1),">"===t.operator||">="===t.operator){if(d=h(l,t,s),d===t&&d!==l)return!1}else if(">="===l.operator&&!o(l.semver,String(t),s))return!1;if(c)if(y&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===y.major&&t.semver.minor===y.minor&&t.semver.patch===y.patch&&(y=!1),"<"===t.operator||"<="===t.operator){if(m=u(c,t,s),m===t&&m!==c)return!1}else if("<="===c.operator&&!o(c.semver,String(t),s))return!1;if(!t.operator&&(c||l)&&0!==p)return!1}return!(l&&f&&!c&&0!==p||c&&g&&!l&&0!==p||v||y)},h=(t,e,s)=>{if(!t)return e;const i=a(t.semver,e.semver,s);return i>0?t:i<0||">"===e.operator&&">="===t.operator?e:t},u=(t,e,s)=>{if(!t)return e;const i=a(t.semver,e.semver,s);return i<0?t:i>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,s={})=>{if(t===e)return!0;t=new i(t,s),e=new i(e,s);let r=!1;t:for(const i of t.set){for(const t of e.set){const e=l(i,t,s);if(r=r||null!==e,e)continue t}if(r)return!1}return!0}},1042:(t,e,s)=>{const i=s(6902);t.exports=(t,e)=>new i(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")))},9042:(t,e,s)=>{const i=s(6902);t.exports=(t,e)=>{try{return new i(t,e).range||"*"}catch(t){return null}}},9602:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},4411:(t,e,s)=>{"use strict";function i(t){var e=this;if(e instanceof i||(e=new i),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var s=0,r=arguments.length;s<r;s++)e.push(arguments[s]);return e}function r(t,e){t.tail=new o(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function n(t,e){t.head=new o(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function o(t,e,s,i){if(!(this instanceof o))return new o(t,e,s,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}t.exports=i,i.Node=o,i.create=i,i.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,s=t.prev;return e&&(e.prev=s),s&&(s.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=s),t.list.length--,t.next=null,t.prev=null,t.list=null,e},i.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},i.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},i.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)r(this,arguments[t]);return this.length},i.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)n(this,arguments[t]);return this.length},i.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},i.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},i.prototype.forEach=function(t,e){e=e||this;for(var s=this.head,i=0;null!==s;i++)t.call(e,s.value,i,this),s=s.next},i.prototype.forEachReverse=function(t,e){e=e||this;for(var s=this.tail,i=this.length-1;null!==s;i--)t.call(e,s.value,i,this),s=s.prev},i.prototype.get=function(t){for(var e=0,s=this.head;null!==s&&e<t;e++)s=s.next;if(e===t&&null!==s)return s.value},i.prototype.getReverse=function(t){for(var e=0,s=this.tail;null!==s&&e<t;e++)s=s.prev;if(e===t&&null!==s)return s.value},i.prototype.map=function(t,e){e=e||this;for(var s=new i,r=this.head;null!==r;)s.push(t.call(e,r.value,this)),r=r.next;return s},i.prototype.mapReverse=function(t,e){e=e||this;for(var s=new i,r=this.tail;null!==r;)s.push(t.call(e,r.value,this)),r=r.prev;return s},i.prototype.reduce=function(t,e){var s,i=this.head;if(arguments.length>1)s=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,s=this.head.value}for(var r=0;null!==i;r++)s=t(s,i.value,r),i=i.next;return s},i.prototype.reduceReverse=function(t,e){var s,i=this.tail;if(arguments.length>1)s=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,s=this.tail.value}for(var r=this.length-1;null!==i;r--)s=t(s,i.value,r),i=i.prev;return s},i.prototype.toArray=function(){for(var t=new Array(this.length),e=0,s=this.head;null!==s;e++)t[e]=s.value,s=s.next;return t},i.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,s=this.tail;null!==s;e++)t[e]=s.value,s=s.prev;return t},i.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var s=new i;if(e<t||e<0)return s;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,n=this.head;null!==n&&r<t;r++)n=n.next;for(;null!==n&&r<e;r++,n=n.next)s.push(n.value);return s},i.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var s=new i;if(e<t||e<0)return s;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,n=this.tail;null!==n&&r>e;r--)n=n.prev;for(;null!==n&&r>t;r--,n=n.prev)s.push(n.value);return s},i.prototype.splice=function(t,e,...s){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var i=0,r=this.head;null!==r&&i<t;i++)r=r.next;var n,a,l,h,u=[];for(i=0;r&&i<e;i++)u.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),i=0;i<s.length;i++)n=this,a=r,l=s[i],h=void 0,null===(h=a===n.head?new o(l,null,a,n):new o(l,a,a.next,n)).next&&(n.tail=h),null===h.prev&&(n.head=h),n.length++,r=h;return u},i.prototype.reverse=function(){for(var t=this.head,e=this.tail,s=t;null!==s;s=s.prev){var i=s.prev;s.prev=s.next,s.next=i}return this.head=e,this.tail=t,this};try{s(9602)(i)}catch(t){}},875:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=875,t.exports=e},5697:()=>{},1290:()=>{},8839:()=>{},8654:()=>{},7351:()=>{},3606:()=>{},1266:(t,e,s)=>{const i=s(8654);function r(t,e){return console.log("command:",t),new Promise(((s,r)=>{let n={};i.exec(t,e,((t,e,i)=>{if(t)return t.stdout=e,t.stderr=i,void r(t);n.stdout=e,n.stderr=i,"code"in n&&s(n)})).on("exit",((t,e)=>{n.code=t,n.signal=e,"stdout"in n&&s(n)}))}))}t.exports={gitTag:function(t,{forceGitTag:e=!1,signGitTag:s=!1}=options){let i=`git tag ${t} -m ${t} `;return e&&(i+="--force "),s&&(i+="--sign "),r(i)},gitCommit:function(t,{amend:e=!1,commitHooks:s=!0,signGitCommit:i=!1}=options){let n="git commit -a ";return s||(n+="--no-verify "),i&&(n+="--gpg-sign "),n+=e?"--amend --no-edit ":`-m ${t}`,r(n)},gitPush:function(t,e){return r(`git push --follow-tags --no-verify --atomic ${t} ${e} `).catch((s=>{if(console.warn("gitPush",s.stderr),/atomic/.test(s.stderr))return console.log("gitPush"," --atomic failed, attempting non-atomic push"),r(`git push --follow-tags --no-verify ${t} ${e} `)}))},getCurrentBranch:function(){return i.execSync("git rev-parse --abbrev-ref HEAD")}}},4303:(t,e,s)=>{const i=s(3606),r=s(7351).promises,{writeFileSync:n}=s(7351),o=s(1249),a=s(8839),{prompt:l}=s(4031),{gitCommit:h,gitTag:u,gitPush:c,getCurrentBranch:p}=s(1266),d=i.join(process.cwd(),"./package.json"),m=s(875)(d),f=m.version;let g=!1;const y=["patch","minor","major"],v=["prepatch","preminor","premajor"],w="Other, please specify...";function b(t){return t&&!o.valid(t)||!t?(console.log("\nversion should be a valid semver value"),!1):!t||!o.lte(t,f)||(console.log("\nversion must be greater than the current version"),!1)}process.on("exit",(t=>{console.log("onProcessExit"),g||(m.version=f,n(d,JSON.stringify(m,void 0,4)))})),async function(){try{a(o.valid(f),"the version must follow the semver standard"),console.log(`latest version: ${f}`);const t=await async function(){const t=function(){const t=o.valid(f),e=[],s=o.parse(t);if(y.forEach((s=>{const i=o.inc(t,s);e.push({message:`${s}(${i})`,name:i})})),(s.prerelease||[]).length>0){const s=o.inc(t,"prerelease");e.push({message:`prerelease(${s})`,name:s})}else v.forEach((s=>{const i=o.inc(t,s,"alpha");e.push({message:`${s}(${i})`,name:i})}));return e.push({message:w,name:w}),e}();let e,s=await l({type:"select",name:"value",message:"Select increment (next version):",choices:t});return e=s.value===w?(await l({type:"input",name:"customVersion",message:"Please enter a valid version:",validate:b.bind(this)})).customVersion:s.value,e}();m.version=t,await r.writeFile(d,JSON.stringify(m,void 0,4)),await function(){console.log("\ngit","Commit and updates tag...");const t=`v${m.version}`;return h(t,{}).then((()=>u(t,{}))).then((()=>[t]))}(),await function(){console.log("\ngit","Pushing tags...");const t=p();return c("origin",t.toString())}(),g=!0}catch(t){console.log(t),process.exit(1)}}()}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}return s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s(4303),{}})()}));